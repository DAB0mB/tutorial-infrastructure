<!DOCTYPE html><html lang="en"><head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,700italic,800italic" rel="stylesheet" type="text/css">
    <title>Angular2-Meteor</title>
    <meta charset="UTF-8">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <base href="/">
    <style>.logo[_ngcontent-rfy-1] {
  width: auto;
  height: 2em; }

.main-toolbar[_ngcontent-rfy-1] {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  box-shadow: 3px 0 6px rgba(0, 0, 0, 0.3);
  background: #90A4AE; }
  .main-toolbar[_ngcontent-rfy-1] a[_ngcontent-rfy-1] {
    color: white;
    text-decoration: none; }

.fill-remaining-space[_ngcontent-rfy-1] {
  -ms-flex: 1 1 auto;
      flex: 1 1 auto; }

.tutorials-dropdown[_ngcontent-rfy-1] {
  position: relative;
  display: inline-block; }
  .tutorials-dropdown[_ngcontent-rfy-1] .dropdown-content[_ngcontent-rfy-1] {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 500px;
    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    border-radius: 5px;
    padding: 7px; }

.tutorials-dropdown[_ngcontent-rfy-1]:hover .dropdown-content[_ngcontent-rfy-1] {
  display: block; }</style><style>/*

Original highlight.js style (c) Ivan Sagalaev <maniac@softwaremaniacs.org>

*/
.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #F0F0F0; }

/* Base color: saturation 0; */
.hljs,
.hljs-subst {
  color: #444; }

.hljs-comment {
  color: #888888; }

.hljs-keyword,
.hljs-attribute,
.hljs-selector-tag,
.hljs-meta-keyword,
.hljs-doctag,
.hljs-name {
  font-weight: bold; }

/* User color: hue: 0 */
.hljs-type,
.hljs-string,
.hljs-number,
.hljs-selector-id,
.hljs-selector-class,
.hljs-quote,
.hljs-template-tag,
.hljs-deletion {
  color: #880000; }

.hljs-title,
.hljs-section {
  color: #880000;
  font-weight: bold; }

.hljs-regexp,
.hljs-symbol,
.hljs-variable,
.hljs-template-variable,
.hljs-link,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #BC6060; }

/* Language color: hue: 90; */
.hljs-literal {
  color: #78A960; }

.hljs-built_in,
.hljs-bullet,
.hljs-code,
.hljs-addition {
  color: #397300; }

/* Meta color: hue: 200 */
.hljs-meta {
  color: #1f7199; }

.hljs-meta-string {
  color: #4d99bf; }

/* Misc effects */
.hljs-emphasis {
  font-style: italic; }

.hljs-strong {
  font-weight: bold; }

/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/
.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8; }

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic; }

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold; }

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080; }

.hljs-string,
.hljs-doctag {
  color: #d14; }

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold; }

.hljs-subst {
  font-weight: normal; }

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold; }

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal; }

.hljs-regexp,
.hljs-link {
  color: #009926; }

.hljs-symbol,
.hljs-bullet {
  color: #990073; }

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3; }

.hljs-meta {
  color: #999;
  font-weight: bold; }

.hljs-deletion {
  background: #fdd; }

.hljs-addition {
  background: #dfd; }

.hljs-emphasis {
  font-style: italic; }

.hljs-strong {
  font-weight: bold; }

a {
  color: black; }

body {
  padding: 0;
  margin: 0;
  padding-top: 64px;
  font-family: 'Open Sans', sans-serif; }

pre {
  background: transparent;
  border: none;
  white-space: pre-wrap; }

code {
  white-space: pre-wrap; }

img[alt="angular1-wa-ionic-cli"], img[alt="angular1-wa-meteor-cli"] {
  width: 30%; }

.side-nav .step-item, .side-nav .api-list-item {
  margin: 0;
  padding: 0;
  border-bottom: 1px solid #CFD8DC;
  color: #546E7A; }

.side-nav .step-link, .side-nav .api-item-link, .side-nav .apis-versions-list li {
  text-decoration: none;
  color: #536E7A;
  display: block;
  font-size: 14px;
  padding: 16px 16px;
  margin: 0;
  background-color: #ECEFF1; }

.side-nav .active-step a {
  font-weight: bold; }

.side-nav .tutorial-steps-list, .side-nav .apis-list, .side-nav .apis-versions-list {
  list-style: none;
  padding-left: 0;
  margin-top: 8px; }

.apis-versions-list {
  margin: 0 !important; }
  .apis-versions-list li {
    padding: 8px !important; }
    .apis-versions-list li a {
      text-decoration: none; }

.dropdown-content {
  column-count: 2;
  column-width: 220px;
  column-rule: 1px solid #ECEFF1;
  column-gap: 0; }
  .dropdown-content .tutorial-steps-list {
    margin: 0 !important;
    list-style: none;
    padding: 0; }
    .dropdown-content .tutorial-steps-list .step-item {
      padding: 5px 0 5px 10px;
      border-bottom: 1px solid #ECEFF1;
      break-inside: avoid-column; }
      .dropdown-content .tutorial-steps-list .step-item a {
        text-decoration: none;
        font-size: small;
        color: black; }
      .dropdown-content .tutorial-steps-list .step-item .bold {
        font-weight: bold; }

.md-primary {
  background: #263238 !important;
  color: white !important;
  cursor: pointer !important; }
  .md-primary[disabled] {
    color: lightgray !important;
    cursor: not-allowed !important; }

tutorial-page-content pre code[ngnonbindable] {
  background: #eee;
  display: block;
  width: 90%;
  border-radius: 5px;
  padding: 10px; }

tutorial-page-content blockquote {
  margin: 0;
  position: relative;
  background: #eee;
  border-radius: 5px; }
  tutorial-page-content blockquote:before {
    content: '!';
    font-weight: bold;
    position: absolute;
    vertical-align: top;
    font-size: 2vw;
    color: white;
    margin-left: 6px; }
  tutorial-page-content blockquote p {
    border-left: 1px solid white;
    padding: 10px;
    margin-left: 20px; }

.diffbox {
  border-radius: 10px; }
  .diffbox .title-panel {
    border-radius: 10px 10px 0 0; }
  .diffbox .code-container {
    border-radius: 0 0 10px 10px; }

api-ref-container p code, api-ref-container ul li code {
  font-family: 'Open Sans', sans-serif; }

api-ref-container a {
  color: #263238;
  text-decoration: none;
  font-weight: bold; }

api-ref-container h3 {
  background: #eee;
  border-radius: 5px;
  padding: 4px;
  margin-top: 30px; }

api-ref-container table {
  width: 100%;
  background: #eee;
  border-radius: 5px;
  border-spacing: 0; }
  api-ref-container table thead {
    background: #546E7A;
    color: #eee;
    border-radius: 5px; }
    api-ref-container table thead tr {
      background: #546E7A;
      border-radius: 5px; }
      api-ref-container table thead tr th {
        padding: 6px; }
  api-ref-container table tbody td {
    padding: 5px; }
</style><style>/** * Mixin that creates a new stacking context. * see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context */ /** * This mixin hides an element visually. * That means it's still accessible for screen-readers but not visible in view. */ /** * Forces an element to grow to fit floated contents; used as as an alternative to * `overflow: hidden;` because it doesn't cut off contents. */ /** * A mixin, which generates temporary ink ripple on a given component. * When $bindToParent is set to true, it will check for the focused class on the same selector as you included * that mixin. * It is also possible to specify the color palette of the temporary ripple. By default it uses the * accent palette for its background. */ md-toolbar { display: -webkit-box; display: -ms-flexbox; display: flex; box-sizing: border-box; width: 100%; min-height: 64px; font-size: 20px; font-weight: 400; font-family: Roboto, "Helvetica Neue", sans-serif; padding: 0 16px; -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-direction: column; flex-direction: column; background: whitesmoke; color: rgba(0, 0, 0, 0.87); } md-toolbar.md-primary { background: #009688; color: white; } md-toolbar.md-accent { background: #9c27b0; color: rgba(255, 255, 255, 0.870588); } md-toolbar.md-warn { background: #f44336; color: white; } md-toolbar md-toolbar-row { display: -webkit-box; display: -ms-flexbox; display: flex; box-sizing: border-box; width: 100%; height: 64px; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center; } </style><style>/** * A collection of mixins and CSS classes that can be used to apply elevation to a material * element. * See: https://www.google.com/design/spec/what-is-material/elevation-shadows.html * Examples: * * * .md-foo { *   @include $md-elevation(2); * *   &:active { *     @include $md-elevation(8); *   } * } * * <div id="external-card" class="md-elevation-z2"><p>Some content</p></div> * * For an explanation of the design behind how elevation is implemented, see the design doc at * https://goo.gl/Kq0k9Z. */ /** * The css property used for elevation. In most cases this should not be changed. It is exposed * as a variable for abstraction / easy use when needing to reference the property directly, for * example in a will-change rule. */ /** The default duration value for elevation transitions. */ /** The default easing value for elevation transitions. */ /** * Applies the correct css rules to an element to give it the elevation specified by $zValue. * The $zValue must be between 0 and 24. */ /** * Returns a string that can be used as the value for a transition property for elevation. * Calling this function directly is useful in situations where a component needs to transition * more than one property. * * .foo { *   transition: md-elevation-transition-property-value(), opacity 100ms ease; *   will-change: $md-elevation-property, opacity; * } */ /** * Applies the correct css rules needed to have an element transition between elevations. * This mixin should be applied to elements whose elevation values will change depending on their * context (e.g. when active or disabled). */ /** Applies a property to an md-button element for each of the supported palettes. */ /** Applies a focus style to an md-button element for each of the supported palettes. */ [md-raised-button], [md-fab], [md-mini-fab], [md-button], [md-icon-button] { box-sizing: border-box; position: relative; background: transparent; text-align: center; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; outline: none; border: none; display: inline-block; white-space: nowrap; text-decoration: none; vertical-align: baseline; font-size: 14px; font-family: Roboto, "Helvetica Neue", sans-serif; font-weight: 500; color: currentColor; margin: 0; min-width: 88px; line-height: 36px; padding: 0 16px; border-radius: 3px; } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab], .md-primary[md-button], .md-primary[md-icon-button] { color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab], .md-accent[md-button], .md-accent[md-icon-button] { color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab], .md-warn[md-button], .md-warn[md-icon-button] { color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-primary[disabled][md-button], .md-primary[disabled][md-icon-button], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-accent[disabled][md-button], .md-accent[disabled][md-icon-button], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], .md-warn[disabled][md-button], .md-warn[disabled][md-icon-button], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab], [disabled][disabled][md-button], [disabled][disabled][md-icon-button] { color: rgba(0, 0, 0, 0.38); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab], [disabled][md-button], [disabled][md-icon-button] { cursor: default; } .md-button-focus[md-raised-button]::after, .md-button-focus[md-fab]::after, .md-button-focus[md-mini-fab]::after, .md-button-focus[md-button]::after, .md-button-focus[md-icon-button]::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } .md-button-focus.md-primary[md-raised-button]::after, .md-button-focus.md-primary[md-fab]::after, .md-button-focus.md-primary[md-mini-fab]::after, .md-button-focus.md-primary[md-button]::after, .md-button-focus.md-primary[md-icon-button]::after { background-color: rgba(0, 150, 136, 0.12); } .md-button-focus.md-accent[md-raised-button]::after, .md-button-focus.md-accent[md-fab]::after, .md-button-focus.md-accent[md-mini-fab]::after, .md-button-focus.md-accent[md-button]::after, .md-button-focus.md-accent[md-icon-button]::after { background-color: rgba(156, 39, 176, 0.12); } .md-button-focus.md-warn[md-raised-button]::after, .md-button-focus.md-warn[md-fab]::after, .md-button-focus.md-warn[md-mini-fab]::after, .md-button-focus.md-warn[md-button]::after, .md-button-focus.md-warn[md-icon-button]::after { background-color: rgba(244, 67, 54, 0.12); } [md-raised-button], [md-fab], [md-mini-fab] { box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); background-color: #fafafa; -webkit-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); -webkit-transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { color: white; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { color: rgba(255, 255, 255, 0.870588); } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { color: white; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { color: rgba(0, 0, 0, 0.38); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { background-color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { background-color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { background-color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { background-color: rgba(0, 0, 0, 0.12); } [md-raised-button]:active, [md-fab]:active, [md-mini-fab]:active { box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab] { box-shadow: none; } [md-button][disabled]:hover.md-primary, [md-button][disabled]:hover.md-accent, [md-button][disabled]:hover.md-warn, [md-button][disabled]:hover:hover { background-color: transparent; } [md-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 56px; height: 56px; padding: 0; } [md-fab] i, [md-fab] md-icon { padding: 16px 0; } [md-mini-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 40px; height: 40px; padding: 0; } [md-mini-fab] i, [md-mini-fab] md-icon { padding: 8px 0; } [md-icon-button] { min-width: 0; padding: 0; width: 40px; height: 40px; line-height: 24px; border-radius: 50%; } [md-icon-button] .md-button-wrapper > * { vertical-align: middle; } [md-button]:hover::after, [md-icon-button]:hover::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } [md-button]:hover.md-primary::after, [md-icon-button]:hover.md-primary::after { background-color: rgba(0, 150, 136, 0.12); } [md-button]:hover.md-accent::after, [md-icon-button]:hover.md-accent::after { background-color: rgba(156, 39, 176, 0.12); } [md-button]:hover.md-warn::after, [md-icon-button]:hover.md-warn::after { background-color: rgba(244, 67, 54, 0.12); } @media screen and (-ms-high-contrast: active) { .md-raised-button, .md-fab, .md-mini-fab { border: 1px solid #fff; } } </style><style>.side-nav[_ngcontent-rfy-6] {
  background: #ECEFF1;
  width: 232px;
  bottom: 0;
  overflow: auto;
  z-index: 100;
  border-right: 1px solid rgba(0, 0, 0, 0.3); }
  .side-nav[_ngcontent-rfy-6] ul[_ngcontent-rfy-6] {
    margin-top: 8px; }

tutorials-versions[_ngcontent-rfy-6] {
  margin-left: 10px;
  margin-top: 10px;
  display: block; }

.improv-button[_ngcontent-rfy-6] {
  margin-left: 50px; }

.right-buttons[_ngcontent-rfy-6] {
  float: right;
  margin-right: 250px;
  margin-top: 10px; }

.tutorial-title[_ngcontent-rfy-6] {
  margin: 15px;
  float: left;
  font-size: larger;
  font-weight: bold; }

.top-navigation[_ngcontent-rfy-6] {
  position: fixed;
  margin-top: -60px;
  width: 100%;
  background-color: #ECEFF1;
  height: 60px;
  z-index: 50; }

.tutorial-content[_ngcontent-rfy-6] {
  margin-top: 60px;
  padding: 20px; }

.tutorials-container[_ngcontent-rfy-6] {
  padding-left: 230px; }

.l-pinned-top[_ngcontent-rfy-6] {
  position: fixed;
  top: 0px;
  left: 0px;
  right: 0px; }

.l-pinned-left[_ngcontent-rfy-6] {
  position: fixed;
  top: 0px;
  left: 0px;
  bottom: 0px; }

.l-left[_ngcontent-rfy-6] {
  float: left; }

.l-right[_ngcontent-rfy-6] {
  float: right; }

.l-relative[_ngcontent-rfy-6], .docs-content[_ngcontent-rfy-6] {
  position: relative; }

.l-absolute[_ngcontent-rfy-6] {
  position: absolute; }

.l-fixed[_ngcontent-rfy-6] {
  position: fixed; }

.l-offset-side-nav[_ngcontent-rfy-6] {
  padding-left: 232px; }

.l-offset-nav[_ngcontent-rfy-6] {
  padding-top: 64px; }</style><style>.tutorial-version[_ngcontent-rfy-7] {
            margin-left: 10px;
        }
        
        .active[_ngcontent-rfy-7] {
            color: #b3e5fc !important;
        }</style><style>.diffbox[_ngcontent-rfy-12] {
  border: 1px solid #eee;
  -webkit-text-size-adjust: 100%;
  margin: 1.5em 0; }
  .diffbox[_ngcontent-rfy-12] .title-panel[_ngcontent-rfy-12] {
    padding: 5px 12px;
    background: #eee;
    border-bottom: solid 1px #eee;
    color: #333;
    overflow: auto; }
    .diffbox[_ngcontent-rfy-12] .title-panel[_ngcontent-rfy-12] .github-commit-link[_ngcontent-rfy-12] {
      float: right;
      color: black;
      text-decoration: none;
      border-bottom: none !important; }
  .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] {
    overflow-x: auto;
    position: relative;
    padding: 9px 3px 3px 0;
    background: #f8f8f8; }
    .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] .scroll-container[_ngcontent-rfy-12] {
      display: inline-block;
      min-width: 100%;
      overflow: hidden; }
    .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] pre[_ngcontent-rfy-12] {
      margin: 0;
      padding: 0;
      background-color: transparent; }
      .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] pre.line-added[_ngcontent-rfy-12] {
        background: #eaffea; }
      .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] pre.line-removed[_ngcontent-rfy-12] {
        background: #ff9ea2; }
    .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] .line-content[_ngcontent-rfy-12] {
      padding-left: 36px;
      overflow: hidden; }
      .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] .line-content[_ngcontent-rfy-12] .hljs-comment[_ngcontent-rfy-12] {
        color: #777; }
    .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] .line-numbers[_ngcontent-rfy-12] {
      text-align: right;
      -moz-user-select: none;
      -khtml-user-select: none;
      -webkit-user-select: none;
      -o-user-select: none;
      position: absolute;
      width: 25px; }
      .diffbox[_ngcontent-rfy-12] .code-container[_ngcontent-rfy-12] .line-numbers[_ngcontent-rfy-12] .line-number[_ngcontent-rfy-12] {
        color: #aaa;
        font-style: italic; }</style></head><body><universal-styles></universal-styles>


<app _nghost-rfy-1=""><md-toolbar _ngcontent-rfy-1="" class="main-toolbar md-primary"><div class="md-toolbar-layout"> <md-toolbar-row> 
    <a _ngcontent-rfy-1="" href="/"><img _ngcontent-rfy-1="" class="logo" src="/assets/images/logo.png"></a>
    <div _ngcontent-rfy-1="" class="tutorials-dropdown">
        <button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">Tutorials</span> </button>
        <div _ngcontent-rfy-1="" class="dropdown-content">
            <steps-list _ngcontent-rfy-1="" prefix="/tutorials/socially"><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/bootstrap">1. Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/static-template">2. Static Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/bindings">7. Bindings</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/folder-structure">8. Folder Structure</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/deploying-your-app">11. Deployment</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/google-maps">17. Google Maps</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/css-sass-and-bootstrap">18. CSS, SASS and Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/ionic2">23. Ionic2</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}--><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="/tutorials/whatsapp">WhatsApp clone with Angular &amp; Meteor</a>
    </li><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="/tutorials/migration/angular2/introduction">Blaze to Angular 2 Migration tutorial</a>
    </li>
</ul>
</steps-list>
        </div>
    </div>
    <a _ngcontent-rfy-1="" href="/angular2/"><button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">Angular 2</span> </button></a>
    <a _ngcontent-rfy-1="" href="/api/angular2-meteor/latest/MeteorComponent"><button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">API Reference</span> </button></a>
    <span _ngcontent-rfy-1="" class="fill-remaining-space"></span>
    <a _ngcontent-rfy-1="" href="https://github.com/Urigo/angular2-meteor" target="_blank"><button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">GitHub</span> </button></a>
    <a _ngcontent-rfy-1="" href="http://info.meteor.com/blog/author/uri-goldshtein?__hstc=219992390.b4a81f3b906b078dac633307097097f5.1471207723059.1471890076881.1471938647239.7&amp;__hssc=219992390.3.1471938647239&amp;__hsfp=714783454" target="_blank"><button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">Blog</span> </button></a>
    <a _ngcontent-rfy-1="" href="https://docs.google.com/forms/d/e/1FAIpQLSed3JZ0EAcSzkX8Y-iEtvNQRfjeyP2ICQvYMs00ewdmKaplwA/viewform" target="_blank"><button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">Contact Us</span> </button></a>
    <a _ngcontent-rfy-1="" href="/manifesto"><button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">Manifesto</span> </button></a>
    <a _ngcontent-rfy-1="" href="/about"><button _ngcontent-rfy-1="" md-button=""><span class="md-button-wrapper">About us</span> </button></a>
 </md-toolbar-row>  </div></md-toolbar>
<router-outlet _ngcontent-rfy-1=""></router-outlet><tutorial _nghost-rfy-6=""><div _ngcontent-rfy-6="" class="tutorials-container">
    <nav _ngcontent-rfy-6="" class="side-nav l-pinned-left l-layer-4 l-offset-nav">
        <tutorials-versions _ngcontent-rfy-6="" _nghost-rfy-7=""><!--template bindings={}--><a _ngcontent-rfy-7="" md-raised-button="" class="tutorial-version md-primary active" className="tutorial-version md-primary active" href="/tutorials/socially/angular1/meteor-methods">Angular 1</a><a _ngcontent-rfy-7="" md-raised-button="" class="tutorial-version md-primary " className="tutorial-version md-primary " href="/tutorials/socially/angular2/meteor-methods">Angular 2</a></tutorials-versions>
        <steps-list _ngcontent-rfy-6=""><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/bootstrap">1. Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/static-template">2. Static Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/bindings">7. Bindings</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/folder-structure">8. Folder Structure</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/deploying-your-app">11. Deployment</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item active-step" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/google-maps">17. Google Maps</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/css-less-and-bootstrap">18. CSS, LESS and Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/ionic">23. Ionic</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}-->
</ul>
</steps-list>
    </nav>
    <div _ngcontent-rfy-6="" class="top-navigation">
        <span _ngcontent-rfy-6="" class="tutorial-title" stepName="">Meteor Methods</span>
        <div _ngcontent-rfy-6="" class="right-buttons">
            <a _ngcontent-rfy-6="" class="md-primary" md-raised-button="" tutorialNavigation="previous" href="/tutorials/socially/angular1/using-and-creating-angularjs-pipes">Previous</a>
            <a _ngcontent-rfy-6="" class="md-primary" codeDiffLink="" md-raised-button="" href="https://github.com/Urigo/meteor-angular-socially/compare/step_13...step_14">Code Diff</a>
            <a _ngcontent-rfy-6="" class="md-primary" md-raised-button="" tutorialNavigation="next" href="/tutorials/socially/angular1/conditional-template-directives-with-angularjs">Next</a>
            <a _ngcontent-rfy-6="" class="md-primary improv-button" md-raised-button="" href="https://github.com/Urigo/tutorial-infrastructure/edit/master/static-website/tutorials/socially/angular1/meteor-methods.html">Improve This Document</a>
        </div>
    </div>
    <div _ngcontent-rfy-6="" class="tutorial-content">
        <router-outlet _ngcontent-rfy-6=""></router-outlet><tutorial-page><div class="tutorial-container"></div></tutorial-page><tutorial-page-content><p>In this step we will learn how to use <a href="http://docs.meteor.com/#/full/meteor_methods">Meteor methods</a> and how to use <code ngNonBindable="">Meteor.call</code> method from our AngularJS code.</p>

<p>Meteor methods are a way to perform more complex logic than the direct Mongo.Collection API.
The Meteor methods are also responsible for checking permissions, just like the allow method does.</p>

<p>In our case, we will create an invite method that invites a user to a party.</p>

<p>Create a new file under <code ngNonBindable="">imports/api/parties</code> called <code ngNonBindable="">methods.js</code> and paste the following code into it:</p>

<p><diffbox step="14.2" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.2</span> <span _ngcontent-rfy-12="" class="commit-summary">Create invite method</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/0ec628a169f2ea7d6531dbc2561f30ae4bac0cf0">imports/api/parties/methods.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number">9</pre><pre _ngcontent-rfy-12="" class="line-number">10</pre><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number">20</pre><pre _ngcontent-rfy-12="" class="line-number">21</pre><pre _ngcontent-rfy-12="" class="line-number">22</pre><pre _ngcontent-rfy-12="" class="line-number">23</pre><pre _ngcontent-rfy-12="" class="line-number">24</pre><pre _ngcontent-rfy-12="" class="line-number">25</pre><pre _ngcontent-rfy-12="" class="line-number">26</pre><pre _ngcontent-rfy-12="" class="line-number">27</pre><pre _ngcontent-rfy-12="" class="line-number">28</pre><pre _ngcontent-rfy-12="" class="line-number">29</pre><pre _ngcontent-rfy-12="" class="line-number">30</pre><pre _ngcontent-rfy-12="" class="line-number">31</pre><pre _ngcontent-rfy-12="" class="line-number">32</pre><pre _ngcontent-rfy-12="" class="line-number">33</pre><pre _ngcontent-rfy-12="" class="line-number">34</pre><pre _ngcontent-rfy-12="" class="line-number">35</pre><pre _ngcontent-rfy-12="" class="line-number">36</pre><pre _ngcontent-rfy-12="" class="line-number">37</pre><pre _ngcontent-rfy-12="" class="line-number">38</pre><pre _ngcontent-rfy-12="" class="line-number">39</pre><pre _ngcontent-rfy-12="" class="line-number">40</pre><pre _ngcontent-rfy-12="" class="line-number">41</pre><pre _ngcontent-rfy-12="" class="line-number">42</pre><pre _ngcontent-rfy-12="" class="line-number">43</pre><pre _ngcontent-rfy-12="" class="line-number">44</pre><pre _ngcontent-rfy-12="" class="line-number">45</pre><pre _ngcontent-rfy-12="" class="line-number">46</pre><pre _ngcontent-rfy-12="" class="line-number">47</pre><pre _ngcontent-rfy-12="" class="line-number">48</pre><pre _ngcontent-rfy-12="" class="line-number">49</pre><pre _ngcontent-rfy-12="" class="line-number">50</pre><pre _ngcontent-rfy-12="" class="line-number">51</pre><pre _ngcontent-rfy-12="" class="line-number">52</pre><pre _ngcontent-rfy-12="" class="line-number">53</pre><pre _ngcontent-rfy-12="" class="line-number">54</pre><pre _ngcontent-rfy-12="" class="line-number">55</pre><pre _ngcontent-rfy-12="" class="line-number">56</pre><pre _ngcontent-rfy-12="" class="line-number">57</pre><pre _ngcontent-rfy-12="" class="line-number">58</pre><pre _ngcontent-rfy-12="" class="line-number">59</pre><pre _ngcontent-rfy-12="" class="line-number">60</pre><pre _ngcontent-rfy-12="" class="line-number">61</pre><pre _ngcontent-rfy-12="" class="line-number">62</pre><pre _ngcontent-rfy-12="" class="line-number">63</pre><pre _ngcontent-rfy-12="" class="line-number">64</pre><pre _ngcontent-rfy-12="" class="line-number">65</pre><pre _ngcontent-rfy-12="" class="line-number">66</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'underscore'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { check } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/check'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getContactEmail</span>(<span class="hljs-params">user</span>) </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (user.emails &amp;&amp; user.emails.length)</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> user.emails[<span class="hljs-number">0</span>].address;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (user.services &amp;&amp; user.services.facebook &amp;&amp; user.services.facebook.email)</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> user.services.facebook.email;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">invite</span>(<span class="hljs-params">partyId, userId</span>) </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  check(partyId, <span class="hljs-built_in">String</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  check(userId, <span class="hljs-built_in">String</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.userId) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-number">400</span>, <span class="hljs-string">'You have to be logged in!'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">const</span> party = Parties.findOne(partyId);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (!party) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-number">404</span>, <span class="hljs-string">'No such party!'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (party.owner !== <span class="hljs-keyword">this</span>.userId) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-number">404</span>, <span class="hljs-string">'No permissions!'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (party.public) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-number">400</span>, <span class="hljs-string">'That party is public. No need to invite people.'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (userId !== party.owner &amp;&amp; ! _.contains(party.invited, userId)) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    Parties.update(partyId, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      $addToSet: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        invited: userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> replyTo = getContactEmail(Meteor.users.findOne(<span class="hljs-keyword">this</span>.userId));</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> to = getContactEmail(Meteor.users.findOne(userId));</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">if</span> (Meteor.isServer &amp;&amp; to) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      Email.send({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        to,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        replyTo,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">from</span>: <span class="hljs-string">'noreply@socially.com'</span>,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        subject: <span class="hljs-string">`PARTY: <span class="hljs-subst">${party.title}</span>`</span>,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        text: <span class="hljs-string">`</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          Hey, I just invited you to ${party.title} on Socially.</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          Come check it out: ${Meteor.absoluteUrl()}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-string">`</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">Meteor.methods({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  invite</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>We have to import it in the <code ngNonBindable="">index.js</code></p>

<p><diffbox step="14.3" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.3</span> <span _ngcontent-rfy-12="" class="commit-summary">Import methods</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/d69a5a82288c1f74b8def762158d79fb2d4c7379">imports/api/parties/index.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'./publish'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'./methods'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Let's look at the code.</p>

<p>First, all Meteor methods are defined inside <code ngNonBindable="">Meteor.methods({});</code> object.</p>

<p>Each property of that object is a method and the name of that property in the name of the method. In our case - invite.</p>

<p>Then the value of the property is the function we call. In our case it takes 2 parameters - the party id and the invited user id.</p>

<p>As you can see, <code ngNonBindable="">invite</code> function is exported. It's just to make testing easier.</p>

<p>First, we check validation with the the <a href="http://docs.meteor.com/#check_package">check</a> function.</p>

<p>To use <a href="http://docs.meteor.com/#check_package">check</a> we need to add the <a href="https://atmospherejs.com/meteor/check">check package</a>:</p>

<pre><code ngNonBindable="">meteor add check</code></pre>

<p>The rest of the code is pretty much self explanatory, but important thing to notice is the Email function that sends email to the invited client.
This function can't be called from the client side so we have to put it inside an <code ngNonBindable="">isServer</code> statement.</p>

<p>Don't forget to add the email package to your project in the command line:</p>

<pre><code ngNonBindable="">meteor add email</code></pre>

<p>And import Email object from its module:</p>

<p><diffbox step="14.5" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.5</span> <span _ngcontent-rfy-12="" class="commit-summary">Import email from module</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/77e07882655c47bf1c284b9a16bfa0b1582d6efa">imports/api/parties/methods.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'underscore'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { check } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/check'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Email } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/email'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now let's call that method from the client.</p>

<p>Add a method to the component called <code ngNonBindable="">PartyUninvited</code>:</p>

<p><diffbox step="14.6" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.6</span> <span _ngcontent-rfy-12="" class="commit-summary">Add invite method to PartyUninvited</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/93f95414e76301f3abdb350369c32c45af0f5774">imports/ui/components/partyUninvited/partyUninvited.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number">20</pre><pre _ngcontent-rfy-12="" class="line-number">21</pre><pre _ngcontent-rfy-12="" class="line-number">22</pre><pre _ngcontent-rfy-12="" class="line-number">23</pre><pre _ngcontent-rfy-12="" class="line-number">24</pre><pre _ngcontent-rfy-12="" class="line-number">25</pre><pre _ngcontent-rfy-12="" class="line-number">26</pre><pre _ngcontent-rfy-12="" class="line-number">27</pre><pre _ngcontent-rfy-12="" class="line-number">28</pre><pre _ngcontent-rfy-12="" class="line-number">29</pre><pre _ngcontent-rfy-12="" class="line-number">30</pre><pre _ngcontent-rfy-12="" class="line-number">31</pre><pre _ngcontent-rfy-12="" class="line-number">32</pre><pre _ngcontent-rfy-12="" class="line-number">33</pre><pre _ngcontent-rfy-12="" class="line-number">34</pre><pre _ngcontent-rfy-12="" class="line-number">35</pre><pre _ngcontent-rfy-12="" class="line-number">36</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">      }</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    });</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  invite(user) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    Meteor.call(<span class="hljs-string">'invite'</span>, <span class="hljs-keyword">this</span>.party._id, user._id,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      (error) =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">if</span> (error) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Oops, unable to invite!'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        } <span class="hljs-keyword">else</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Invited!'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    );</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">}</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyUninvited'</span>;</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>We just used a regular Meteor API to call a method, inside our component.</p>

<p>Note that we also used another parameter, a callback function that called when Meteor is done with our method.</p>

<p>The callback have 2 parameters:</p>

<ul><li>Parameter 1 - <code ngNonBindable="">error</code> - which is <code ngNonBindable="">undefined</code> when the call succeeded.</li><li>Parameter 2 - <code ngNonBindable="">result</code> - which is the return value from the server method.</li></ul>

<p>Now let's add a button to invite each user we want. Edit the users list to look like this:</p>

<p><diffbox step="14.7" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.7</span> <span _ngcontent-rfy-12="" class="commit-summary">Add invite button</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/56f284701c7d02c1e75aca9d290ecc2005747acf">imports/ui/components/partyUninvited/partyUninvited.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  Users to invite:</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"user in partyUninvited.users | uninvitedFilter:partyUninvited.party"</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ user | displayNameFilter }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyUninvited.invite(user)"</span>&gt;</span>Invite<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now that we have the invite function working, we also want to publish the parties to the invited users.
Let's add that permission to the publish parties method:</p>

<p><diffbox step="14.8" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.8</span> <span _ngcontent-rfy-12="" class="commit-summary">Update the parties subscription to include invited</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/8604647d2e799dabec62e54028d17d118436b520">imports/api/parties/publish.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">24</pre><pre _ngcontent-rfy-12="" class="line-number">25</pre><pre _ngcontent-rfy-12="" class="line-number">26</pre><pre _ngcontent-rfy-12="" class="line-number">27</pre><pre _ngcontent-rfy-12="" class="line-number">28</pre><pre _ngcontent-rfy-12="" class="line-number">29</pre><pre _ngcontent-rfy-12="" class="line-number">30</pre><pre _ngcontent-rfy-12="" class="line-number">31</pre><pre _ngcontent-rfy-12="" class="line-number">32</pre><pre _ngcontent-rfy-12="" class="line-number">33</pre><pre _ngcontent-rfy-12="" class="line-number">34</pre><pre _ngcontent-rfy-12="" class="line-number">35</pre><pre _ngcontent-rfy-12="" class="line-number">36</pre><pre _ngcontent-rfy-12="" class="line-number">37</pre><pre _ngcontent-rfy-12="" class="line-number">38</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">            $exists: <span class="hljs-literal">true</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">          }</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">        }]</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-comment">// when logged in user is one of invited</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        $and: [{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invited: <span class="hljs-keyword">this</span>.userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invited: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">            $exists: <span class="hljs-literal">true</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }]</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">      }]</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<h3>Serve Email</h3>

<p>NOTE: If you want to test email functionality locally with your own gmail account, create a new file called <code ngNonBindable="">environments.js</code> in the <code ngNonBindable="">server/startup/</code> directory. Add the following lines substituting [YOUR_EMAIL] and [YOUR_PASSWORD].  </p>

<pre><code ngNonBindable="">Meteor.startup(function () {
    process.env.MAIL_URL="smtp://[YOUR_EMAIL]@gmail.com:[YOUR_PASSWORD]@smtp.gmail.com:465/";
})</code></pre>

<p>You may need to set your gmail account to use <a href="https://www.google.com/settings/u/2/security/lesssecureapps">Less Secure Apps</a>.</p>

<p>In production you could use a service like Mandrill with this <a href="https://atmospherejs.com/wylio/mandrill">Meteor Mandrill Package</a>.</p>

<p>Great!</p>

<p>Now test the app.  Create a private party with user1.  Then invite user2. Log in as user2 and check if he can see the party in his own parties list.</p>

<p>Now let's add the RSVP functionality so invited users can respond to invitations.</p>

<p>First let's add a <code ngNonBindable="">Meteor.method</code> to <code ngNonBindable="">methods.js</code> in the parties folder (remember to place it as a property inside the <code ngNonBindable="">Meteor.methods</code> object):</p>

<p><diffbox step="14.9" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.9</span> <span _ngcontent-rfy-12="" class="commit-summary">Add rsvp method</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/566239b7fb8a3e103df958e59201f9b526d28f41">imports/api/parties/methods.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">62</pre><pre _ngcontent-rfy-12="" class="line-number">63</pre><pre _ngcontent-rfy-12="" class="line-number">64</pre><pre _ngcontent-rfy-12="" class="line-number">65</pre><pre _ngcontent-rfy-12="" class="line-number">66</pre><pre _ngcontent-rfy-12="" class="line-number">67</pre><pre _ngcontent-rfy-12="" class="line-number">68</pre><pre _ngcontent-rfy-12="" class="line-number">69</pre><pre _ngcontent-rfy-12="" class="line-number">70</pre><pre _ngcontent-rfy-12="" class="line-number">71</pre><pre _ngcontent-rfy-12="" class="line-number">72</pre><pre _ngcontent-rfy-12="" class="line-number">73</pre><pre _ngcontent-rfy-12="" class="line-number">74</pre><pre _ngcontent-rfy-12="" class="line-number">75</pre><pre _ngcontent-rfy-12="" class="line-number">76</pre><pre _ngcontent-rfy-12="" class="line-number">77</pre><pre _ngcontent-rfy-12="" class="line-number">78</pre><pre _ngcontent-rfy-12="" class="line-number">79</pre><pre _ngcontent-rfy-12="" class="line-number">80</pre><pre _ngcontent-rfy-12="" class="line-number">81</pre><pre _ngcontent-rfy-12="" class="line-number">82</pre><pre _ngcontent-rfy-12="" class="line-number">83</pre><pre _ngcontent-rfy-12="" class="line-number">84</pre><pre _ngcontent-rfy-12="" class="line-number">85</pre><pre _ngcontent-rfy-12="" class="line-number">86</pre><pre _ngcontent-rfy-12="" class="line-number">87</pre><pre _ngcontent-rfy-12="" class="line-number">88</pre><pre _ngcontent-rfy-12="" class="line-number">89</pre><pre _ngcontent-rfy-12="" class="line-number">90</pre><pre _ngcontent-rfy-12="" class="line-number">91</pre><pre _ngcontent-rfy-12="" class="line-number">92</pre><pre _ngcontent-rfy-12="" class="line-number">93</pre><pre _ngcontent-rfy-12="" class="line-number">94</pre><pre _ngcontent-rfy-12="" class="line-number">95</pre><pre _ngcontent-rfy-12="" class="line-number">96</pre><pre _ngcontent-rfy-12="" class="line-number">97</pre><pre _ngcontent-rfy-12="" class="line-number">98</pre><pre _ngcontent-rfy-12="" class="line-number">99</pre><pre _ngcontent-rfy-12="" class="line-number">100</pre><pre _ngcontent-rfy-12="" class="line-number">101</pre><pre _ngcontent-rfy-12="" class="line-number">102</pre><pre _ngcontent-rfy-12="" class="line-number">103</pre><pre _ngcontent-rfy-12="" class="line-number">104</pre><pre _ngcontent-rfy-12="" class="line-number">105</pre><pre _ngcontent-rfy-12="" class="line-number">106</pre><pre _ngcontent-rfy-12="" class="line-number">107</pre><pre _ngcontent-rfy-12="" class="line-number">108</pre><pre _ngcontent-rfy-12="" class="line-number">109</pre><pre _ngcontent-rfy-12="" class="line-number">110</pre><pre _ngcontent-rfy-12="" class="line-number">111</pre><pre _ngcontent-rfy-12="" class="line-number">112</pre><pre _ngcontent-rfy-12="" class="line-number">113</pre><pre _ngcontent-rfy-12="" class="line-number">114</pre><pre _ngcontent-rfy-12="" class="line-number">115</pre><pre _ngcontent-rfy-12="" class="line-number">116</pre><pre _ngcontent-rfy-12="" class="line-number">117</pre><pre _ngcontent-rfy-12="" class="line-number">118</pre><pre _ngcontent-rfy-12="" class="line-number">119</pre><pre _ngcontent-rfy-12="" class="line-number">120</pre><pre _ngcontent-rfy-12="" class="line-number">121</pre><pre _ngcontent-rfy-12="" class="line-number">122</pre><pre _ngcontent-rfy-12="" class="line-number">123</pre><pre _ngcontent-rfy-12="" class="line-number">124</pre><pre _ngcontent-rfy-12="" class="line-number">125</pre><pre _ngcontent-rfy-12="" class="line-number">126</pre><pre _ngcontent-rfy-12="" class="line-number">127</pre><pre _ngcontent-rfy-12="" class="line-number">128</pre><pre _ngcontent-rfy-12="" class="line-number">129</pre><pre _ngcontent-rfy-12="" class="line-number">130</pre><pre _ngcontent-rfy-12="" class="line-number">131</pre><pre _ngcontent-rfy-12="" class="line-number">132</pre><pre _ngcontent-rfy-12="" class="line-number">133</pre><pre _ngcontent-rfy-12="" class="line-number">134</pre><pre _ngcontent-rfy-12="" class="line-number">135</pre><pre _ngcontent-rfy-12="" class="line-number">136</pre><pre _ngcontent-rfy-12="" class="line-number">137</pre><pre _ngcontent-rfy-12="" class="line-number">138</pre><pre _ngcontent-rfy-12="" class="line-number">139</pre><pre _ngcontent-rfy-12="" class="line-number">140</pre><pre _ngcontent-rfy-12="" class="line-number">141</pre><pre _ngcontent-rfy-12="" class="line-number">142</pre><pre _ngcontent-rfy-12="" class="line-number">143</pre><pre _ngcontent-rfy-12="" class="line-number">144</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  }</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">}</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rsvp</span>(<span class="hljs-params">partyId, rsvp</span>) </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  check(partyId, <span class="hljs-built_in">String</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  check(rsvp, <span class="hljs-built_in">String</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.userId) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-number">403</span>, <span class="hljs-string">'You must be logged in to RSVP'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (!_.contains([<span class="hljs-string">'yes'</span>, <span class="hljs-string">'no'</span>, <span class="hljs-string">'maybe'</span>], rsvp)) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-number">400</span>, <span class="hljs-string">'Invalid RSVP'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">const</span> party = Parties.findOne({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    _id: partyId,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    $or: [{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-comment">// is public</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      $and: [{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        public: <span class="hljs-literal">true</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        public: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          $exists: <span class="hljs-literal">true</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }]</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    },{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-comment">// is owner</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      $and: [{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        owner: <span class="hljs-keyword">this</span>.userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        owner: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          $exists: <span class="hljs-literal">true</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }]</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    }, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-comment">// is invited</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      $and: [{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        invited: <span class="hljs-keyword">this</span>.userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        invited: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          $exists: <span class="hljs-literal">true</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }]</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    }]</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (!party) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> Meteor.Error(<span class="hljs-number">404</span>, <span class="hljs-string">'No such party'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">const</span> hasUserRsvp = _.findWhere(party.rsvps, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    user: <span class="hljs-keyword">this</span>.userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-keyword">if</span> (!hasUserRsvp) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-comment">// add new rsvp entry</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    Parties.update(partyId, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      $push: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        rsvps: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          rsvp,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          user: <span class="hljs-keyword">this</span>.userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  } <span class="hljs-keyword">else</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-comment">// update rsvp entry</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> userId = <span class="hljs-keyword">this</span>.userId;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    Parties.update({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      _id: partyId,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-string">'rsvps.user'</span>: userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    }, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      $set: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-string">'rsvps.$.rsvp'</span>: rsvp</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">Meteor.methods({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  invite,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  rsvp</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>The function gets the party's id and the response ('yes', 'maybe' or 'no').</p>

<p>Like the invite method, first we check for all kinds of validations, then we do the wanted logic.</p>

<p>Now let's create the <code ngNonBindable="">PartyRsvp</code> component with action buttons to call the right rsvp!</p>

<p><diffbox step="14.10" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.10</span> <span _ngcontent-rfy-12="" class="commit-summary">Create PartyRsvp component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7b2676a3bcc2ad3ea99e12e43f2af9ba452bbfe3">imports/ui/components/partyRsvp/partyRsvp.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number">9</pre><pre _ngcontent-rfy-12="" class="line-number">10</pre><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number">20</pre><pre _ngcontent-rfy-12="" class="line-number">21</pre><pre _ngcontent-rfy-12="" class="line-number">22</pre><pre _ngcontent-rfy-12="" class="line-number">23</pre><pre _ngcontent-rfy-12="" class="line-number">24</pre><pre _ngcontent-rfy-12="" class="line-number">25</pre><pre _ngcontent-rfy-12="" class="line-number">26</pre><pre _ngcontent-rfy-12="" class="line-number">27</pre><pre _ngcontent-rfy-12="" class="line-number">28</pre><pre _ngcontent-rfy-12="" class="line-number">29</pre><pre _ngcontent-rfy-12="" class="line-number">30</pre><pre _ngcontent-rfy-12="" class="line-number">31</pre><pre _ngcontent-rfy-12="" class="line-number">32</pre><pre _ngcontent-rfy-12="" class="line-number">33</pre><pre _ngcontent-rfy-12="" class="line-number">34</pre><pre _ngcontent-rfy-12="" class="line-number">35</pre><pre _ngcontent-rfy-12="" class="line-number">36</pre><pre _ngcontent-rfy-12="" class="line-number">37</pre><pre _ngcontent-rfy-12="" class="line-number">38</pre><pre _ngcontent-rfy-12="" class="line-number">39</pre><pre _ngcontent-rfy-12="" class="line-number">40</pre><pre _ngcontent-rfy-12="" class="line-number">41</pre><pre _ngcontent-rfy-12="" class="line-number">42</pre><pre _ngcontent-rfy-12="" class="line-number">43</pre><pre _ngcontent-rfy-12="" class="line-number">44</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyRsvp.html'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyRsvp</span> </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  yes() {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.answer(<span class="hljs-string">'yes'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  maybe() {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.answer(<span class="hljs-string">'maybe'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  no() {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.answer(<span class="hljs-string">'no'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  answer(answer) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    Meteor.call(<span class="hljs-string">'rsvp'</span>, <span class="hljs-keyword">this</span>.party._id, answer, (error) =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-keyword">if</span> (error) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-built_in">console</span>.error(<span class="hljs-string">'Oops, unable to rsvp!'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      } <span class="hljs-keyword">else</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'RSVP done!'</span>)</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyRsvp'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-comment">// create a module</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  angularMeteor</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  template,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controllerAs: name,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  bindings: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    party: <span class="hljs-string">'&lt;'</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  },</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controller: PartyRsvp</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.11" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.11</span> <span _ngcontent-rfy-12="" class="commit-summary">Create template</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/f5a45dfdbc11ab8fc898ba57914040e376595eba">imports/ui/components/partyRsvp/partyRsvp.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"I'm going!"</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyRsvp.yes()"</span>/&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"Maybe"</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyRsvp.maybe()"</span>/&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"No"</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyRsvp.no()"</span>/&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Add this component to the PartiesList:</p>

<p><diffbox step="14.12" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.12</span> <span _ngcontent-rfy-12="" class="commit-summary">Add component to the view</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/07172844ff79d8fe16451cef2174e33205f1c237">imports/ui/components/partiesList/partiesList.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{party.description}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-remove</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-remove</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">party-rsvp</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvp</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-creator</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-creator</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.13" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.13</span> <span _ngcontent-rfy-12="" class="commit-summary">Add as a dependency</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/00246fe01d4c7c1c4f46003cad90a1161c202139">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number"> </pre><pre _ngcontent-rfy-12="" class="line-number">64</pre><pre _ngcontent-rfy-12="" class="line-number">65</pre><pre _ngcontent-rfy-12="" class="line-number">66</pre><pre _ngcontent-rfy-12="" class="line-number">67</pre><pre _ngcontent-rfy-12="" class="line-number">68</pre><pre _ngcontent-rfy-12="" class="line-number">69</pre><pre _ngcontent-rfy-12="" class="line-number">70</pre><pre _ngcontent-rfy-12="" class="line-number">71</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyAdd } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyAdd/partyAdd'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRemove } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRemove/partyRemove'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyCreator } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyCreator/partyCreator'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRsvp } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvp/partyRsvp'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartiesList</span> </span>{</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-keyword">constructor</span>($scope, $reactive) {</pre><pre _ngcontent-rfy-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartiesSort,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyAdd,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyRemove,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  PartyCreator,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  PartyRsvp</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  template,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  controllerAs: name,</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now let's display who is coming for each party.</p>

<p>Create the <code ngNonBindable="">PartyRsvpsList</code> component:</p>

<p><diffbox step="14.14" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.14</span> <span _ngcontent-rfy-12="" class="commit-summary">Create view for PartyRsvpsList component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/8d5590501ea5568f3596b716d43d061b041c53d8">imports/ui/components/partyRsvpsList/partyRsvpsList.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added">Who is coming: Yes -</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">{{ (partyRsvpsList.rsvps | filter:{rsvp:'yes'}).length }}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">Maybe -</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">{{ (partyRsvpsList.rsvps | filter:{rsvp:'maybe'}).length }}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">No -</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">{{ (partyRsvpsList.rsvps | filter:{rsvp:'no'}).length }}</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.15" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.15</span> <span _ngcontent-rfy-12="" class="commit-summary">Create component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/68c60803970284fdfa4d9af648d2c76ee11e779e">imports/ui/components/partyRsvpsList/partyRsvpsList.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number">9</pre><pre _ngcontent-rfy-12="" class="line-number">10</pre><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number">20</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyRsvpsList.html'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyRsvpsList</span> </span>{ }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyRsvpsList'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-comment">// create a module</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  angularMeteor</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  template,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controllerAs: name,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  bindings: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    rsvps: <span class="hljs-string">'&lt;'</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  },</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controller: PartyRsvpsList</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Take a look at the use of filter with length to find how many people responded with each response type.</p>

<p>We have to add it to PartiesList:</p>

<p><diffbox step="14.16" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.16</span> <span _ngcontent-rfy-12="" class="commit-summary">Add to the view</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7480aaca1c2c1e06f4ab40f07e19e8a64051aef0">imports/ui/components/partiesList/partiesList.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>{{party.description}}<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-remove</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-remove</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-rsvp</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvp</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">party-rsvps-list</span> <span class="hljs-attr">rsvps</span>=<span class="hljs-string">"party.rsvps"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvps-list</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-creator</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-creator</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.17" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.17</span> <span _ngcontent-rfy-12="" class="commit-summary">Also as a dependency</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/d340a4bf68fa24541fe2ec4382134d8a85279f25">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number"> </pre><pre _ngcontent-rfy-12="" class="line-number">66</pre><pre _ngcontent-rfy-12="" class="line-number">67</pre><pre _ngcontent-rfy-12="" class="line-number">68</pre><pre _ngcontent-rfy-12="" class="line-number">69</pre><pre _ngcontent-rfy-12="" class="line-number">70</pre><pre _ngcontent-rfy-12="" class="line-number">71</pre><pre _ngcontent-rfy-12="" class="line-number">72</pre><pre _ngcontent-rfy-12="" class="line-number">73</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRemove } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRemove/partyRemove'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyCreator } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyCreator/partyCreator'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRsvp } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvp/partyRsvp'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRsvpsList } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvpsList/partyRsvpsList'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartiesList</span> </span>{</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-keyword">constructor</span>($scope, $reactive) {</pre><pre _ngcontent-rfy-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyAdd,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyRemove,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyCreator,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  PartyRsvp,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  PartyRsvpsList</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  template,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  controllerAs: name,</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>And we also want to see list of users. Let's create <code ngNonBindable="">PartyRsvpUsers</code>:</p>

<p><diffbox step="14.18" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.18</span> <span _ngcontent-rfy-12="" class="commit-summary">Create view for PartyRsvpUsers component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7ee93f585842fef8f607b1308571c002d12a7452">imports/ui/components/partyRsvpUsers/partyRsvpUsers.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"rsvp in partyRsvpUsers.rsvps | filter:{ rsvp: partyRsvpUsers.type }"</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  {{ partyRsvpUsers.getUserById(rsvp.user) | displayNameFilter }}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  -</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  {{ partyRsvpUsers.type }}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.19" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.19</span> <span _ngcontent-rfy-12="" class="commit-summary">Create component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/b07f58fec62ac49a39e43d01e036d3fdddef676e">imports/ui/components/partyRsvpUsers/partyRsvpUsers.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number">9</pre><pre _ngcontent-rfy-12="" class="line-number">10</pre><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number">20</pre><pre _ngcontent-rfy-12="" class="line-number">21</pre><pre _ngcontent-rfy-12="" class="line-number">22</pre><pre _ngcontent-rfy-12="" class="line-number">23</pre><pre _ngcontent-rfy-12="" class="line-number">24</pre><pre _ngcontent-rfy-12="" class="line-number">25</pre><pre _ngcontent-rfy-12="" class="line-number">26</pre><pre _ngcontent-rfy-12="" class="line-number">27</pre><pre _ngcontent-rfy-12="" class="line-number">28</pre><pre _ngcontent-rfy-12="" class="line-number">29</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyRsvpUsers.html'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> DisplayNameFilter } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../filters/displayNameFilter'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyRsvpUsers</span> </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  getUserById(userId) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> Meteor.users.findOne(userId);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyRsvpUsers'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-comment">// create a module</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  angularMeteor,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  DisplayNameFilter</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  template,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controllerAs: name,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  bindings: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    rsvps: <span class="hljs-string">'&lt;'</span>,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    type: <span class="hljs-string">'@'</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  },</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controller: PartyRsvpUsers</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Add it to <code ngNonBindable="">PartyRsvpsList</code>:</p>

<p><diffbox step="14.20" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.20</span> <span _ngcontent-rfy-12="" class="commit-summary">Use recently created component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/a512baf317cc8f4026eb4e256d395a48d7e10317">imports/ui/components/partyRsvpsList/partyRsvpsList.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number">9</pre><pre _ngcontent-rfy-12="" class="line-number">10</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">{{ (partyRsvpsList.rsvps | filter:{rsvp:'maybe'}).length }}</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">No -</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">{{ (partyRsvpsList.rsvps | filter:{rsvp:'no'}).length }}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">party-rsvp-users</span> <span class="hljs-attr">rsvps</span>=<span class="hljs-string">"partyRsvpsList.rsvps"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"yes"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvp-users</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">party-rsvp-users</span> <span class="hljs-attr">rsvps</span>=<span class="hljs-string">"partyRsvpsList.rsvps"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"maybe"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvp-users</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">party-rsvp-users</span> <span class="hljs-attr">rsvps</span>=<span class="hljs-string">"partyRsvpsList.rsvps"</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"no"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvp-users</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.21" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.21</span> <span _ngcontent-rfy-12="" class="commit-summary">Add as a dependency</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c09063d396fb4e61290be96c920926bcee9abeb4">imports/ui/components/partyRsvpsList/partyRsvpsList.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number"> </pre><pre _ngcontent-rfy-12="" class="line-number">10</pre><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyRsvpsList.html'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRsvpUsers } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvpUsers/partyRsvpUsers'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyRsvpsList</span> </span>{ }</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-comment">// create a module</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  angularMeteor,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  PartyRsvpUsers</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  template,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  controllerAs: name,</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now let's add a list of the users who haven't responded yet. To do this we will create the <code ngNonBindable="">PartyUnanswered</code> component:</p>

<p><diffbox step="14.22" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.22</span> <span _ngcontent-rfy-12="" class="commit-summary">Create view for PartyUnanswered</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c02d9ac6aa2613e97757e92a6f540bb31ada1f99">imports/ui/components/partyUnanswered/partyUnanswered.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"invitedUser in partyUnanswered.getUnanswered()"</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    {{ partyUnanswered.getUserById(invitedUser) | displayNameFilter }}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.23" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.23</span> <span _ngcontent-rfy-12="" class="commit-summary">Create component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/1fbd3e173a24e0221625e74c81f13dde1a07f732">imports/ui/components/partyUnanswered/partyUnanswered.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number">9</pre><pre _ngcontent-rfy-12="" class="line-number">10</pre><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number">20</pre><pre _ngcontent-rfy-12="" class="line-number">21</pre><pre _ngcontent-rfy-12="" class="line-number">22</pre><pre _ngcontent-rfy-12="" class="line-number">23</pre><pre _ngcontent-rfy-12="" class="line-number">24</pre><pre _ngcontent-rfy-12="" class="line-number">25</pre><pre _ngcontent-rfy-12="" class="line-number">26</pre><pre _ngcontent-rfy-12="" class="line-number">27</pre><pre _ngcontent-rfy-12="" class="line-number">28</pre><pre _ngcontent-rfy-12="" class="line-number">29</pre><pre _ngcontent-rfy-12="" class="line-number">30</pre><pre _ngcontent-rfy-12="" class="line-number">31</pre><pre _ngcontent-rfy-12="" class="line-number">32</pre><pre _ngcontent-rfy-12="" class="line-number">33</pre><pre _ngcontent-rfy-12="" class="line-number">34</pre><pre _ngcontent-rfy-12="" class="line-number">35</pre><pre _ngcontent-rfy-12="" class="line-number">36</pre><pre _ngcontent-rfy-12="" class="line-number">37</pre><pre _ngcontent-rfy-12="" class="line-number">38</pre><pre _ngcontent-rfy-12="" class="line-number">39</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> _ <span class="hljs-keyword">from</span> <span class="hljs-string">'underscore'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partyUnanswered.html'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> DisplayNameFilter } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../filters/displayNameFilter'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartyUnanswered</span> </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  getUnanswered() {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">this</span>.party || !<span class="hljs-keyword">this</span>.party.invited) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-keyword">return</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.party.invited.filter((user) =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-keyword">return</span> !_.findWhere(<span class="hljs-keyword">this</span>.party.rsvps, { user });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  getUserById(userId) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> Meteor.users.findOne(userId)</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partyUnanswered'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-comment">// create a module</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  angularMeteor,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  DisplayNameFilter</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  template,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controllerAs: name,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  bindings: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    party: <span class="hljs-string">'&lt;'</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  },</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  controller: PartyUnanswered</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Here we are using <code ngNonBindable="">filter</code> method, and underscore's <code ngNonBindable="">findWhere()</code> to extract the users who are invited to the party but are not exist in the rsvps array.</p>

<p>Add that function inside the <code ngNonBindable="">PartiesList</code> component:</p>

<p><diffbox step="14.24" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.24</span> <span _ngcontent-rfy-12="" class="commit-summary">Use recently created component</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/0f30f1e3ad23142541d566f6139d5df65b3e81a5">imports/ui/components/partiesList/partiesList.html</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-remove</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-remove</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-rsvp</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvp</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-rsvps-list</span> <span class="hljs-attr">rsvps</span>=<span class="hljs-string">"party.rsvps"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-rsvps-list</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">party-unanswered</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-unanswered</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-creator</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-creator</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.25" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.25</span> <span _ngcontent-rfy-12="" class="commit-summary">Add as a dependency</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c7b932e878a444049604021728daa9e8ce332cd1">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number"> </pre><pre _ngcontent-rfy-12="" class="line-number">68</pre><pre _ngcontent-rfy-12="" class="line-number">69</pre><pre _ngcontent-rfy-12="" class="line-number">70</pre><pre _ngcontent-rfy-12="" class="line-number">71</pre><pre _ngcontent-rfy-12="" class="line-number">72</pre><pre _ngcontent-rfy-12="" class="line-number">73</pre><pre _ngcontent-rfy-12="" class="line-number">74</pre><pre _ngcontent-rfy-12="" class="line-number">75</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyCreator } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyCreator/partyCreator'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRsvp } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvp/partyRsvp'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRsvpsList } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRsvpsList/partyRsvpsList'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyUnanswered } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyUnanswered/partyUnanswered'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartiesList</span> </span>{</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  <span class="hljs-keyword">constructor</span>($scope, $reactive) {</pre><pre _ngcontent-rfy-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyRemove,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyCreator,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  PartyRsvp,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  PartyRsvpsList,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  PartyUnanswered</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">]).component(name, {</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  template,</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  controllerAs: name,</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Also, we forgot to subscribe!</p>

<p><diffbox step="14.26" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.26</span> <span _ngcontent-rfy-12="" class="commit-summary">Subscribe `users`</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/f86de6bd95f12766cfb2377c579f627ee90c8d3c">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">35</pre><pre _ngcontent-rfy-12="" class="line-number">36</pre><pre _ngcontent-rfy-12="" class="line-number">37</pre><pre _ngcontent-rfy-12="" class="line-number">38</pre><pre _ngcontent-rfy-12="" class="line-number">39</pre><pre _ngcontent-rfy-12="" class="line-number">40</pre><pre _ngcontent-rfy-12="" class="line-number">41</pre><pre _ngcontent-rfy-12="" class="line-number">42</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-context" className="line-context">      }, <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'searchText'</span>)</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    ]);</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'users'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">      parties() {</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">        <span class="hljs-keyword">return</span> Parties.find({}, {</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<h1>Summary</h1>

<p>Run the application.</p>

<p>Looks like we have all the functionality we need but there is a lot of mess in the display.
There are stuff that we can hide if the user is not authorized to see or if they are empty.</p>

<p>So in the next chapter we are going to learn about a few simple but very useful Angular 1 directive to help us conditionally add or remove DOM.</p>

<h1>Testing</h1>

<p><diffbox step="14.27" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.27</span> <span _ngcontent-rfy-12="" class="commit-summary">Tests of invite method</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/0300b1afa1a6c8c87a3e7da0d509dd74cb23a11a">imports/api/parties/methods.tests.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number">5</pre><pre _ngcontent-rfy-12="" class="line-number">6</pre><pre _ngcontent-rfy-12="" class="line-number">7</pre><pre _ngcontent-rfy-12="" class="line-number">8</pre><pre _ngcontent-rfy-12="" class="line-number">9</pre><pre _ngcontent-rfy-12="" class="line-number">10</pre><pre _ngcontent-rfy-12="" class="line-number">11</pre><pre _ngcontent-rfy-12="" class="line-number">12</pre><pre _ngcontent-rfy-12="" class="line-number">13</pre><pre _ngcontent-rfy-12="" class="line-number">14</pre><pre _ngcontent-rfy-12="" class="line-number">15</pre><pre _ngcontent-rfy-12="" class="line-number">16</pre><pre _ngcontent-rfy-12="" class="line-number">17</pre><pre _ngcontent-rfy-12="" class="line-number">18</pre><pre _ngcontent-rfy-12="" class="line-number">19</pre><pre _ngcontent-rfy-12="" class="line-number">20</pre><pre _ngcontent-rfy-12="" class="line-number">21</pre><pre _ngcontent-rfy-12="" class="line-number">22</pre><pre _ngcontent-rfy-12="" class="line-number">23</pre><pre _ngcontent-rfy-12="" class="line-number">24</pre><pre _ngcontent-rfy-12="" class="line-number">25</pre><pre _ngcontent-rfy-12="" class="line-number">26</pre><pre _ngcontent-rfy-12="" class="line-number">27</pre><pre _ngcontent-rfy-12="" class="line-number">28</pre><pre _ngcontent-rfy-12="" class="line-number">29</pre><pre _ngcontent-rfy-12="" class="line-number">30</pre><pre _ngcontent-rfy-12="" class="line-number">31</pre><pre _ngcontent-rfy-12="" class="line-number">32</pre><pre _ngcontent-rfy-12="" class="line-number">33</pre><pre _ngcontent-rfy-12="" class="line-number">34</pre><pre _ngcontent-rfy-12="" class="line-number">35</pre><pre _ngcontent-rfy-12="" class="line-number">36</pre><pre _ngcontent-rfy-12="" class="line-number">37</pre><pre _ngcontent-rfy-12="" class="line-number">38</pre><pre _ngcontent-rfy-12="" class="line-number">39</pre><pre _ngcontent-rfy-12="" class="line-number">40</pre><pre _ngcontent-rfy-12="" class="line-number">41</pre><pre _ngcontent-rfy-12="" class="line-number">42</pre><pre _ngcontent-rfy-12="" class="line-number">43</pre><pre _ngcontent-rfy-12="" class="line-number">44</pre><pre _ngcontent-rfy-12="" class="line-number">45</pre><pre _ngcontent-rfy-12="" class="line-number">46</pre><pre _ngcontent-rfy-12="" class="line-number">47</pre><pre _ngcontent-rfy-12="" class="line-number">48</pre><pre _ngcontent-rfy-12="" class="line-number">49</pre><pre _ngcontent-rfy-12="" class="line-number">50</pre><pre _ngcontent-rfy-12="" class="line-number">51</pre><pre _ngcontent-rfy-12="" class="line-number">52</pre><pre _ngcontent-rfy-12="" class="line-number">53</pre><pre _ngcontent-rfy-12="" class="line-number">54</pre><pre _ngcontent-rfy-12="" class="line-number">55</pre><pre _ngcontent-rfy-12="" class="line-number">56</pre><pre _ngcontent-rfy-12="" class="line-number">57</pre><pre _ngcontent-rfy-12="" class="line-number">58</pre><pre _ngcontent-rfy-12="" class="line-number">59</pre><pre _ngcontent-rfy-12="" class="line-number">60</pre><pre _ngcontent-rfy-12="" class="line-number">61</pre><pre _ngcontent-rfy-12="" class="line-number">62</pre><pre _ngcontent-rfy-12="" class="line-number">63</pre><pre _ngcontent-rfy-12="" class="line-number">64</pre><pre _ngcontent-rfy-12="" class="line-number">65</pre><pre _ngcontent-rfy-12="" class="line-number">66</pre><pre _ngcontent-rfy-12="" class="line-number">67</pre><pre _ngcontent-rfy-12="" class="line-number">68</pre><pre _ngcontent-rfy-12="" class="line-number">69</pre><pre _ngcontent-rfy-12="" class="line-number">70</pre><pre _ngcontent-rfy-12="" class="line-number">71</pre><pre _ngcontent-rfy-12="" class="line-number">72</pre><pre _ngcontent-rfy-12="" class="line-number">73</pre><pre _ngcontent-rfy-12="" class="line-number">74</pre><pre _ngcontent-rfy-12="" class="line-number">75</pre><pre _ngcontent-rfy-12="" class="line-number">76</pre><pre _ngcontent-rfy-12="" class="line-number">77</pre><pre _ngcontent-rfy-12="" class="line-number">78</pre><pre _ngcontent-rfy-12="" class="line-number">79</pre><pre _ngcontent-rfy-12="" class="line-number">80</pre><pre _ngcontent-rfy-12="" class="line-number">81</pre><pre _ngcontent-rfy-12="" class="line-number">82</pre><pre _ngcontent-rfy-12="" class="line-number">83</pre><pre _ngcontent-rfy-12="" class="line-number">84</pre><pre _ngcontent-rfy-12="" class="line-number">85</pre><pre _ngcontent-rfy-12="" class="line-number">86</pre><pre _ngcontent-rfy-12="" class="line-number">87</pre><pre _ngcontent-rfy-12="" class="line-number">88</pre><pre _ngcontent-rfy-12="" class="line-number">89</pre><pre _ngcontent-rfy-12="" class="line-number">90</pre><pre _ngcontent-rfy-12="" class="line-number">91</pre><pre _ngcontent-rfy-12="" class="line-number">92</pre><pre _ngcontent-rfy-12="" class="line-number">93</pre><pre _ngcontent-rfy-12="" class="line-number">94</pre><pre _ngcontent-rfy-12="" class="line-number">95</pre><pre _ngcontent-rfy-12="" class="line-number">96</pre><pre _ngcontent-rfy-12="" class="line-number">97</pre><pre _ngcontent-rfy-12="" class="line-number">98</pre><pre _ngcontent-rfy-12="" class="line-number">99</pre><pre _ngcontent-rfy-12="" class="line-number">100</pre><pre _ngcontent-rfy-12="" class="line-number">101</pre><pre _ngcontent-rfy-12="" class="line-number">102</pre><pre _ngcontent-rfy-12="" class="line-number">103</pre><pre _ngcontent-rfy-12="" class="line-number">104</pre><pre _ngcontent-rfy-12="" class="line-number">105</pre><pre _ngcontent-rfy-12="" class="line-number">106</pre><pre _ngcontent-rfy-12="" class="line-number">107</pre><pre _ngcontent-rfy-12="" class="line-number">108</pre><pre _ngcontent-rfy-12="" class="line-number">109</pre><pre _ngcontent-rfy-12="" class="line-number">110</pre><pre _ngcontent-rfy-12="" class="line-number">111</pre><pre _ngcontent-rfy-12="" class="line-number">112</pre><pre _ngcontent-rfy-12="" class="line-number">113</pre><pre _ngcontent-rfy-12="" class="line-number">114</pre><pre _ngcontent-rfy-12="" class="line-number">115</pre><pre _ngcontent-rfy-12="" class="line-number">116</pre><pre _ngcontent-rfy-12="" class="line-number">117</pre><pre _ngcontent-rfy-12="" class="line-number">118</pre><pre _ngcontent-rfy-12="" class="line-number">119</pre><pre _ngcontent-rfy-12="" class="line-number">120</pre><pre _ngcontent-rfy-12="" class="line-number">121</pre><pre _ngcontent-rfy-12="" class="line-number">122</pre><pre _ngcontent-rfy-12="" class="line-number">123</pre><pre _ngcontent-rfy-12="" class="line-number">124</pre><pre _ngcontent-rfy-12="" class="line-number">125</pre><pre _ngcontent-rfy-12="" class="line-number">126</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { invite } <span class="hljs-keyword">from</span> <span class="hljs-string">'./methods'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">if</span> (Meteor.isServer) {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  describe(<span class="hljs-string">'Parties / Methods'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    describe(<span class="hljs-string">'invite'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loggedIn</span>(<span class="hljs-params">userId = 'userId'</span>) </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">return</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        };</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should be called from Method'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(invite, <span class="hljs-string">'apply'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">try</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          Meteor.call(<span class="hljs-string">'invite'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        } <span class="hljs-keyword">catch</span> (e) {}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(invite.apply).toHaveBeenCalled();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail on missing partyId'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invite.call({});</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail on missing userId'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invite.call({}, <span class="hljs-string">'partyId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail on not logged in'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invite.call({}, <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'userId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError(<span class="hljs-regexp">/logged in/i</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should look for a party'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">const</span> partyId = <span class="hljs-string">'partyId'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'findOne'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">try</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invite.call(loggedIn(), partyId, <span class="hljs-string">'userId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        } <span class="hljs-keyword">catch</span> (e) {}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(Parties.findOne).toHaveBeenCalledWith(partyId);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail if party does not exist'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'findOne'</span>).and.returnValue(<span class="hljs-literal">undefined</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invite.call(loggedIn(), <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'userId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError(<span class="hljs-regexp">/404/</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail if logged in user is not the owner'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'findOne'</span>).and.returnValue({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          owner: <span class="hljs-string">'notUserId'</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invite.call(loggedIn(), <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'userId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError(<span class="hljs-regexp">/404/</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail on public party'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'findOne'</span>).and.returnValue({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          owner: <span class="hljs-string">'userId'</span>,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          public: <span class="hljs-literal">true</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invite.call(loggedIn(), <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'userId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError(<span class="hljs-regexp">/400/</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should NOT invite user who is the owner'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'findOne'</span>).and.returnValue({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          owner: <span class="hljs-string">'userId'</span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'update'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        invite.call(loggedIn(), <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'userId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(Parties.update).not.toHaveBeenCalled();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should NOT invite user who has been already invited'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'findOne'</span>).and.returnValue({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          owner: <span class="hljs-string">'userId'</span>,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invited: [<span class="hljs-string">'invitedId'</span>]</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'update'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        invite.call(loggedIn(), <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'invitedId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(Parties.update).not.toHaveBeenCalled();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should invite user who has not been invited and is not the owner'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">const</span> partyId = <span class="hljs-string">'partyId'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">const</span> userId = <span class="hljs-string">'notInvitedId'</span>;</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'findOne'</span>).and.returnValue({</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          owner: <span class="hljs-string">'userId'</span>,</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          invited: [<span class="hljs-string">'invitedId'</span>]</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Parties, <span class="hljs-string">'update'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(Meteor.users, <span class="hljs-string">'findOne'</span>).and.returnValue({});</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        invite.call(loggedIn(), partyId, userId);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(Parties.update).toHaveBeenCalledWith(partyId, {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          $addToSet: {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">            invited: userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">}</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="14.28" tutorial="angular1-meteor-socially" _nghost-rfy-12=""><div _ngcontent-rfy-12="" class="diffbox">
    <div _ngcontent-rfy-12="" class="title-panel">
        <span _ngcontent-rfy-12="" class="step-number">14.28</span> <span _ngcontent-rfy-12="" class="commit-summary">Tests of rsvp Method</span>
        <a _ngcontent-rfy-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/0d1e0b082e51306015ac0f2e8caaf6777ee7ff9b">imports/api/parties/methods.tests.js</a>
    </div>
    <div _ngcontent-rfy-12="" class="code-container">
        <div _ngcontent-rfy-12="" class="scroll-container">
            <div _ngcontent-rfy-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-number">1</pre><pre _ngcontent-rfy-12="" class="line-number">2</pre><pre _ngcontent-rfy-12="" class="line-number">3</pre><pre _ngcontent-rfy-12="" class="line-number">4</pre><pre _ngcontent-rfy-12="" class="line-number"> </pre><pre _ngcontent-rfy-12="" class="line-number">122</pre><pre _ngcontent-rfy-12="" class="line-number">123</pre><pre _ngcontent-rfy-12="" class="line-number">124</pre><pre _ngcontent-rfy-12="" class="line-number">125</pre><pre _ngcontent-rfy-12="" class="line-number">126</pre><pre _ngcontent-rfy-12="" class="line-number">127</pre><pre _ngcontent-rfy-12="" class="line-number">128</pre><pre _ngcontent-rfy-12="" class="line-number">129</pre><pre _ngcontent-rfy-12="" class="line-number">130</pre><pre _ngcontent-rfy-12="" class="line-number">131</pre><pre _ngcontent-rfy-12="" class="line-number">132</pre><pre _ngcontent-rfy-12="" class="line-number">133</pre><pre _ngcontent-rfy-12="" class="line-number">134</pre><pre _ngcontent-rfy-12="" class="line-number">135</pre><pre _ngcontent-rfy-12="" class="line-number">136</pre><pre _ngcontent-rfy-12="" class="line-number">137</pre><pre _ngcontent-rfy-12="" class="line-number">138</pre><pre _ngcontent-rfy-12="" class="line-number">139</pre><pre _ngcontent-rfy-12="" class="line-number">140</pre><pre _ngcontent-rfy-12="" class="line-number">141</pre><pre _ngcontent-rfy-12="" class="line-number">142</pre><pre _ngcontent-rfy-12="" class="line-number">143</pre><pre _ngcontent-rfy-12="" class="line-number">144</pre><pre _ngcontent-rfy-12="" class="line-number">145</pre><pre _ngcontent-rfy-12="" class="line-number">146</pre><pre _ngcontent-rfy-12="" class="line-number">147</pre><pre _ngcontent-rfy-12="" class="line-number">148</pre><pre _ngcontent-rfy-12="" class="line-number">149</pre><pre _ngcontent-rfy-12="" class="line-number">150</pre><pre _ngcontent-rfy-12="" class="line-number">151</pre><pre _ngcontent-rfy-12="" class="line-number">152</pre><pre _ngcontent-rfy-12="" class="line-number">153</pre><pre _ngcontent-rfy-12="" class="line-number">154</pre><pre _ngcontent-rfy-12="" class="line-number">155</pre><pre _ngcontent-rfy-12="" class="line-number">156</pre><pre _ngcontent-rfy-12="" class="line-number">157</pre><pre _ngcontent-rfy-12="" class="line-number">158</pre><pre _ngcontent-rfy-12="" class="line-number">159</pre><pre _ngcontent-rfy-12="" class="line-number">160</pre><pre _ngcontent-rfy-12="" class="line-number">161</pre><pre _ngcontent-rfy-12="" class="line-number">162</pre><pre _ngcontent-rfy-12="" class="line-number">163</pre><pre _ngcontent-rfy-12="" class="line-number">164</pre><pre _ngcontent-rfy-12="" class="line-number">165</pre><pre _ngcontent-rfy-12="" class="line-number">166</pre><pre _ngcontent-rfy-12="" class="line-number">167</pre><pre _ngcontent-rfy-12="" class="line-number">168</pre><pre _ngcontent-rfy-12="" class="line-number">169</pre><pre _ngcontent-rfy-12="" class="line-number">170</pre><pre _ngcontent-rfy-12="" class="line-number">171</pre><pre _ngcontent-rfy-12="" class="line-number">172</pre><pre _ngcontent-rfy-12="" class="line-number">173</pre><pre _ngcontent-rfy-12="" class="line-number">174</pre><pre _ngcontent-rfy-12="" class="line-number">175</pre><pre _ngcontent-rfy-12="" class="line-number">176</pre><pre _ngcontent-rfy-12="" class="line-number">177</pre><pre _ngcontent-rfy-12="" class="line-number">178</pre>
            </div>
            <div _ngcontent-rfy-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rfy-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { invite, rsvp } <span class="hljs-keyword">from</span> <span class="hljs-string">'./methods'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rfy-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">        });</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">      });</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">    });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    describe(<span class="hljs-string">'rsvp'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loggedIn</span>(<span class="hljs-params">userId = 'userId'</span>) </span>{</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">return</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          userId</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        };</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should be called from Method'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        spyOn(rsvp, <span class="hljs-string">'apply'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        <span class="hljs-keyword">try</span> {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          Meteor.call(<span class="hljs-string">'rsvp'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        } <span class="hljs-keyword">catch</span> (e) {}</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(rsvp.apply).toHaveBeenCalled();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail on missing partyId'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          rsvp.call({});</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail on missing rsvp'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          rsvp.call({}, <span class="hljs-string">'partyId'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError();</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail if not logged in'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          rsvp.call({}, <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'rsvp'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError(<span class="hljs-regexp">/403/</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should fail on wrong answer'</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          rsvp.call(loggedIn(), <span class="hljs-string">'partyId'</span>, <span class="hljs-string">'wrong'</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        }).toThrowError(<span class="hljs-regexp">/400/</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      [<span class="hljs-string">'yes'</span>, <span class="hljs-string">'maybe'</span>, <span class="hljs-string">'no'</span>].forEach((answer) =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        it(<span class="hljs-string">`should pass on '<span class="hljs-subst">${answer}</span>'`</span>, () =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          expect(() =&gt; {</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">            rsvp.call(loggedIn(), <span class="hljs-string">'partyId'</span>, answer);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">          }).not.toThrowError(<span class="hljs-regexp">/400/</span>);</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> more tests  </span></pre><pre _ngcontent-rfy-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">  });</pre><pre _ngcontent-rfy-12="" class="line-context" className="line-context">}</pre>
            </div>
        </div>
    </div>
</div></diffbox></p></tutorial-page-content>
    </div>
</div></tutorial></app>


</body></html>