<!DOCTYPE html><html lang="en"><head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,700italic,800italic" rel="stylesheet" type="text/css">
    <title>Angular2-Meteor</title>
    <meta charset="UTF-8">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <base href="/">
    <style>.logo[_ngcontent-tww-1] {
  width: auto;
  height: 2em; }

.main-toolbar[_ngcontent-tww-1] {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  box-shadow: 3px 0 6px rgba(0, 0, 0, 0.3);
  background: #90A4AE; }
  .main-toolbar[_ngcontent-tww-1] a[_ngcontent-tww-1] {
    color: white;
    text-decoration: none; }

.fill-remaining-space[_ngcontent-tww-1] {
  -ms-flex: 1 1 auto;
      flex: 1 1 auto; }

.tutorials-dropdown[_ngcontent-tww-1] {
  position: relative;
  display: inline-block; }
  .tutorials-dropdown[_ngcontent-tww-1] .dropdown-content[_ngcontent-tww-1] {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 500px;
    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    border-radius: 5px;
    padding: 7px; }

.tutorials-dropdown[_ngcontent-tww-1]:hover .dropdown-content[_ngcontent-tww-1] {
  display: block; }</style><style>/*

Original highlight.js style (c) Ivan Sagalaev <maniac@softwaremaniacs.org>

*/
.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #F0F0F0; }

/* Base color: saturation 0; */
.hljs,
.hljs-subst {
  color: #444; }

.hljs-comment {
  color: #888888; }

.hljs-keyword,
.hljs-attribute,
.hljs-selector-tag,
.hljs-meta-keyword,
.hljs-doctag,
.hljs-name {
  font-weight: bold; }

/* User color: hue: 0 */
.hljs-type,
.hljs-string,
.hljs-number,
.hljs-selector-id,
.hljs-selector-class,
.hljs-quote,
.hljs-template-tag,
.hljs-deletion {
  color: #880000; }

.hljs-title,
.hljs-section {
  color: #880000;
  font-weight: bold; }

.hljs-regexp,
.hljs-symbol,
.hljs-variable,
.hljs-template-variable,
.hljs-link,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #BC6060; }

/* Language color: hue: 90; */
.hljs-literal {
  color: #78A960; }

.hljs-built_in,
.hljs-bullet,
.hljs-code,
.hljs-addition {
  color: #397300; }

/* Meta color: hue: 200 */
.hljs-meta {
  color: #1f7199; }

.hljs-meta-string {
  color: #4d99bf; }

/* Misc effects */
.hljs-emphasis {
  font-style: italic; }

.hljs-strong {
  font-weight: bold; }

/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/
.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8; }

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic; }

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold; }

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080; }

.hljs-string,
.hljs-doctag {
  color: #d14; }

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold; }

.hljs-subst {
  font-weight: normal; }

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold; }

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal; }

.hljs-regexp,
.hljs-link {
  color: #009926; }

.hljs-symbol,
.hljs-bullet {
  color: #990073; }

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3; }

.hljs-meta {
  color: #999;
  font-weight: bold; }

.hljs-deletion {
  background: #fdd; }

.hljs-addition {
  background: #dfd; }

.hljs-emphasis {
  font-style: italic; }

.hljs-strong {
  font-weight: bold; }

a {
  color: black; }

body {
  padding: 0;
  margin: 0;
  padding-top: 64px;
  font-family: 'Open Sans', sans-serif; }

pre {
  background: transparent;
  border: none;
  white-space: pre-wrap; }

code {
  white-space: pre-wrap; }

img[alt="angular1-wa-ionic-cli"], img[alt="angular1-wa-meteor-cli"] {
  width: 30%; }

.side-nav .step-item, .side-nav .api-list-item {
  margin: 0;
  padding: 0;
  border-bottom: 1px solid #CFD8DC;
  color: #546E7A; }

.side-nav .step-link, .side-nav .api-item-link, .side-nav .apis-versions-list li {
  text-decoration: none;
  color: #536E7A;
  display: block;
  font-size: 14px;
  padding: 16px 16px;
  margin: 0;
  background-color: #ECEFF1; }

.side-nav .active-step a {
  font-weight: bold; }

.side-nav .tutorial-steps-list, .side-nav .apis-list, .side-nav .apis-versions-list {
  list-style: none;
  padding-left: 0;
  margin-top: 8px; }

.apis-versions-list {
  margin: 0 !important; }
  .apis-versions-list li {
    padding: 8px !important; }
    .apis-versions-list li a {
      text-decoration: none; }

.dropdown-content {
  column-count: 2;
  column-width: 220px;
  column-rule: 1px solid #ECEFF1;
  column-gap: 0; }
  .dropdown-content .tutorial-steps-list {
    margin: 0 !important;
    list-style: none;
    padding: 0; }
    .dropdown-content .tutorial-steps-list .step-item {
      padding: 5px 0 5px 10px;
      border-bottom: 1px solid #ECEFF1;
      break-inside: avoid-column; }
      .dropdown-content .tutorial-steps-list .step-item a {
        text-decoration: none;
        font-size: small;
        color: black; }
      .dropdown-content .tutorial-steps-list .step-item .bold {
        font-weight: bold; }

.md-primary {
  background: #263238 !important;
  color: white !important;
  cursor: pointer !important; }
  .md-primary[disabled] {
    color: lightgray !important;
    cursor: not-allowed !important; }

tutorial-page-content pre code[ngnonbindable] {
  background: #eee;
  display: block;
  width: 90%;
  border-radius: 5px;
  padding: 10px; }

tutorial-page-content blockquote {
  margin: 0;
  position: relative;
  background: #eee;
  border-radius: 5px; }
  tutorial-page-content blockquote:before {
    content: '!';
    font-weight: bold;
    position: absolute;
    vertical-align: top;
    font-size: 2vw;
    color: white;
    margin-left: 6px; }
  tutorial-page-content blockquote p {
    border-left: 1px solid white;
    padding: 10px;
    margin-left: 20px; }

.diffbox {
  border-radius: 10px; }
  .diffbox .title-panel {
    border-radius: 10px 10px 0 0; }
  .diffbox .code-container {
    border-radius: 0 0 10px 10px; }

api-ref-container p code, api-ref-container ul li code {
  font-family: 'Open Sans', sans-serif; }

api-ref-container a {
  color: #263238;
  text-decoration: none;
  font-weight: bold; }

api-ref-container h3 {
  background: #eee;
  border-radius: 5px;
  padding: 4px;
  margin-top: 30px; }

api-ref-container table {
  width: 100%;
  background: #eee;
  border-radius: 5px;
  border-spacing: 0; }
  api-ref-container table thead {
    background: #546E7A;
    color: #eee;
    border-radius: 5px; }
    api-ref-container table thead tr {
      background: #546E7A;
      border-radius: 5px; }
      api-ref-container table thead tr th {
        padding: 6px; }
  api-ref-container table tbody td {
    padding: 5px; }
</style><style>/** * Mixin that creates a new stacking context. * see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context */ /** * This mixin hides an element visually. * That means it's still accessible for screen-readers but not visible in view. */ /** * Forces an element to grow to fit floated contents; used as as an alternative to * `overflow: hidden;` because it doesn't cut off contents. */ /** * A mixin, which generates temporary ink ripple on a given component. * When $bindToParent is set to true, it will check for the focused class on the same selector as you included * that mixin. * It is also possible to specify the color palette of the temporary ripple. By default it uses the * accent palette for its background. */ md-toolbar { display: -webkit-box; display: -ms-flexbox; display: flex; box-sizing: border-box; width: 100%; min-height: 64px; font-size: 20px; font-weight: 400; font-family: Roboto, "Helvetica Neue", sans-serif; padding: 0 16px; -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-direction: column; flex-direction: column; background: whitesmoke; color: rgba(0, 0, 0, 0.87); } md-toolbar.md-primary { background: #009688; color: white; } md-toolbar.md-accent { background: #9c27b0; color: rgba(255, 255, 255, 0.870588); } md-toolbar.md-warn { background: #f44336; color: white; } md-toolbar md-toolbar-row { display: -webkit-box; display: -ms-flexbox; display: flex; box-sizing: border-box; width: 100%; height: 64px; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center; } </style><style>/** * A collection of mixins and CSS classes that can be used to apply elevation to a material * element. * See: https://www.google.com/design/spec/what-is-material/elevation-shadows.html * Examples: * * * .md-foo { *   @include $md-elevation(2); * *   &:active { *     @include $md-elevation(8); *   } * } * * <div id="external-card" class="md-elevation-z2"><p>Some content</p></div> * * For an explanation of the design behind how elevation is implemented, see the design doc at * https://goo.gl/Kq0k9Z. */ /** * The css property used for elevation. In most cases this should not be changed. It is exposed * as a variable for abstraction / easy use when needing to reference the property directly, for * example in a will-change rule. */ /** The default duration value for elevation transitions. */ /** The default easing value for elevation transitions. */ /** * Applies the correct css rules to an element to give it the elevation specified by $zValue. * The $zValue must be between 0 and 24. */ /** * Returns a string that can be used as the value for a transition property for elevation. * Calling this function directly is useful in situations where a component needs to transition * more than one property. * * .foo { *   transition: md-elevation-transition-property-value(), opacity 100ms ease; *   will-change: $md-elevation-property, opacity; * } */ /** * Applies the correct css rules needed to have an element transition between elevations. * This mixin should be applied to elements whose elevation values will change depending on their * context (e.g. when active or disabled). */ /** Applies a property to an md-button element for each of the supported palettes. */ /** Applies a focus style to an md-button element for each of the supported palettes. */ [md-raised-button], [md-fab], [md-mini-fab], [md-button], [md-icon-button] { box-sizing: border-box; position: relative; background: transparent; text-align: center; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; outline: none; border: none; display: inline-block; white-space: nowrap; text-decoration: none; vertical-align: baseline; font-size: 14px; font-family: Roboto, "Helvetica Neue", sans-serif; font-weight: 500; color: currentColor; margin: 0; min-width: 88px; line-height: 36px; padding: 0 16px; border-radius: 3px; } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab], .md-primary[md-button], .md-primary[md-icon-button] { color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab], .md-accent[md-button], .md-accent[md-icon-button] { color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab], .md-warn[md-button], .md-warn[md-icon-button] { color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-primary[disabled][md-button], .md-primary[disabled][md-icon-button], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-accent[disabled][md-button], .md-accent[disabled][md-icon-button], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], .md-warn[disabled][md-button], .md-warn[disabled][md-icon-button], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab], [disabled][disabled][md-button], [disabled][disabled][md-icon-button] { color: rgba(0, 0, 0, 0.38); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab], [disabled][md-button], [disabled][md-icon-button] { cursor: default; } .md-button-focus[md-raised-button]::after, .md-button-focus[md-fab]::after, .md-button-focus[md-mini-fab]::after, .md-button-focus[md-button]::after, .md-button-focus[md-icon-button]::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } .md-button-focus.md-primary[md-raised-button]::after, .md-button-focus.md-primary[md-fab]::after, .md-button-focus.md-primary[md-mini-fab]::after, .md-button-focus.md-primary[md-button]::after, .md-button-focus.md-primary[md-icon-button]::after { background-color: rgba(0, 150, 136, 0.12); } .md-button-focus.md-accent[md-raised-button]::after, .md-button-focus.md-accent[md-fab]::after, .md-button-focus.md-accent[md-mini-fab]::after, .md-button-focus.md-accent[md-button]::after, .md-button-focus.md-accent[md-icon-button]::after { background-color: rgba(156, 39, 176, 0.12); } .md-button-focus.md-warn[md-raised-button]::after, .md-button-focus.md-warn[md-fab]::after, .md-button-focus.md-warn[md-mini-fab]::after, .md-button-focus.md-warn[md-button]::after, .md-button-focus.md-warn[md-icon-button]::after { background-color: rgba(244, 67, 54, 0.12); } [md-raised-button], [md-fab], [md-mini-fab] { box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); background-color: #fafafa; -webkit-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); -webkit-transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { color: white; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { color: rgba(255, 255, 255, 0.870588); } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { color: white; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { color: rgba(0, 0, 0, 0.38); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { background-color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { background-color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { background-color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { background-color: rgba(0, 0, 0, 0.12); } [md-raised-button]:active, [md-fab]:active, [md-mini-fab]:active { box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab] { box-shadow: none; } [md-button][disabled]:hover.md-primary, [md-button][disabled]:hover.md-accent, [md-button][disabled]:hover.md-warn, [md-button][disabled]:hover:hover { background-color: transparent; } [md-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 56px; height: 56px; padding: 0; } [md-fab] i, [md-fab] md-icon { padding: 16px 0; } [md-mini-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 40px; height: 40px; padding: 0; } [md-mini-fab] i, [md-mini-fab] md-icon { padding: 8px 0; } [md-icon-button] { min-width: 0; padding: 0; width: 40px; height: 40px; line-height: 24px; border-radius: 50%; } [md-icon-button] .md-button-wrapper > * { vertical-align: middle; } [md-button]:hover::after, [md-icon-button]:hover::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } [md-button]:hover.md-primary::after, [md-icon-button]:hover.md-primary::after { background-color: rgba(0, 150, 136, 0.12); } [md-button]:hover.md-accent::after, [md-icon-button]:hover.md-accent::after { background-color: rgba(156, 39, 176, 0.12); } [md-button]:hover.md-warn::after, [md-icon-button]:hover.md-warn::after { background-color: rgba(244, 67, 54, 0.12); } @media screen and (-ms-high-contrast: active) { .md-raised-button, .md-fab, .md-mini-fab { border: 1px solid #fff; } } </style><style>.side-nav[_ngcontent-tww-6] {
  background: #ECEFF1;
  width: 232px;
  bottom: 0;
  overflow: auto;
  z-index: 100;
  border-right: 1px solid rgba(0, 0, 0, 0.3); }
  .side-nav[_ngcontent-tww-6] ul[_ngcontent-tww-6] {
    margin-top: 8px; }

tutorials-versions[_ngcontent-tww-6] {
  margin-left: 10px;
  margin-top: 10px;
  display: block; }

.improv-button[_ngcontent-tww-6] {
  margin-left: 50px; }

.right-buttons[_ngcontent-tww-6] {
  float: right;
  margin-right: 250px;
  margin-top: 10px; }

.tutorial-title[_ngcontent-tww-6] {
  margin: 15px;
  float: left;
  font-size: larger;
  font-weight: bold; }

.top-navigation[_ngcontent-tww-6] {
  position: fixed;
  margin-top: -60px;
  width: 100%;
  background-color: #ECEFF1;
  height: 60px;
  z-index: 50; }

.tutorial-content[_ngcontent-tww-6] {
  margin-top: 60px;
  padding: 20px; }

.tutorials-container[_ngcontent-tww-6] {
  padding-left: 230px; }

.l-pinned-top[_ngcontent-tww-6] {
  position: fixed;
  top: 0px;
  left: 0px;
  right: 0px; }

.l-pinned-left[_ngcontent-tww-6] {
  position: fixed;
  top: 0px;
  left: 0px;
  bottom: 0px; }

.l-left[_ngcontent-tww-6] {
  float: left; }

.l-right[_ngcontent-tww-6] {
  float: right; }

.l-relative[_ngcontent-tww-6], .docs-content[_ngcontent-tww-6] {
  position: relative; }

.l-absolute[_ngcontent-tww-6] {
  position: absolute; }

.l-fixed[_ngcontent-tww-6] {
  position: fixed; }

.l-offset-side-nav[_ngcontent-tww-6] {
  padding-left: 232px; }

.l-offset-nav[_ngcontent-tww-6] {
  padding-top: 64px; }</style><style>.tutorial-version[_ngcontent-tww-7] {
            margin-left: 10px;
        }
        
        .active[_ngcontent-tww-7] {
            color: #b3e5fc !important;
        }</style><style>.diffbox[_ngcontent-tww-12] {
  border: 1px solid #eee;
  -webkit-text-size-adjust: 100%;
  margin: 1.5em 0; }
  .diffbox[_ngcontent-tww-12] .title-panel[_ngcontent-tww-12] {
    padding: 5px 12px;
    background: #eee;
    border-bottom: solid 1px #eee;
    color: #333;
    overflow: auto; }
    .diffbox[_ngcontent-tww-12] .title-panel[_ngcontent-tww-12] .github-commit-link[_ngcontent-tww-12] {
      float: right;
      color: black;
      text-decoration: none;
      border-bottom: none !important; }
  .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] {
    overflow-x: auto;
    position: relative;
    padding: 9px 3px 3px 0;
    background: #f8f8f8; }
    .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] .scroll-container[_ngcontent-tww-12] {
      display: inline-block;
      min-width: 100%;
      overflow: hidden; }
    .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] pre[_ngcontent-tww-12] {
      margin: 0;
      padding: 0;
      background-color: transparent; }
      .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] pre.line-added[_ngcontent-tww-12] {
        background: #eaffea; }
      .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] pre.line-removed[_ngcontent-tww-12] {
        background: #ff9ea2; }
    .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] .line-content[_ngcontent-tww-12] {
      padding-left: 36px;
      overflow: hidden; }
      .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] .line-content[_ngcontent-tww-12] .hljs-comment[_ngcontent-tww-12] {
        color: #777; }
    .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] .line-numbers[_ngcontent-tww-12] {
      text-align: right;
      -moz-user-select: none;
      -khtml-user-select: none;
      -webkit-user-select: none;
      -o-user-select: none;
      position: absolute;
      width: 25px; }
      .diffbox[_ngcontent-tww-12] .code-container[_ngcontent-tww-12] .line-numbers[_ngcontent-tww-12] .line-number[_ngcontent-tww-12] {
        color: #aaa;
        font-style: italic; }</style></head><body><universal-styles></universal-styles>


<app _nghost-tww-1=""><md-toolbar _ngcontent-tww-1="" class="main-toolbar md-primary"><div class="md-toolbar-layout"> <md-toolbar-row> 
    <a _ngcontent-tww-1="" href="/"><img _ngcontent-tww-1="" class="logo" src="/assets/images/logo.png"></a>
    <div _ngcontent-tww-1="" class="tutorials-dropdown">
        <button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">Tutorials</span> </button>
        <div _ngcontent-tww-1="" class="dropdown-content">
            <steps-list _ngcontent-tww-1="" prefix="/tutorials/socially"><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/bootstrap">1. Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/static-template">2. Static Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/bindings">7. Bindings</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/folder-structure">8. Folder Structure</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/deploying-your-app">11. Deployment</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/google-maps">17. Google Maps</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/css-sass-and-bootstrap">18. CSS, SASS and Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/ionic2">23. Ionic2</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}--><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="/tutorials/whatsapp">WhatsApp clone with Angular &amp; Meteor</a>
    </li><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="/tutorials/migration/angular2/introduction">Blaze to Angular 2 Migration tutorial</a>
    </li>
</ul>
</steps-list>
        </div>
    </div>
    <a _ngcontent-tww-1="" href="/angular2/"><button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">Angular 2</span> </button></a>
    <a _ngcontent-tww-1="" href="/api/angular2-meteor/latest/MeteorComponent"><button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">API Reference</span> </button></a>
    <span _ngcontent-tww-1="" class="fill-remaining-space"></span>
    <a _ngcontent-tww-1="" href="https://github.com/Urigo/angular2-meteor" target="_blank"><button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">GitHub</span> </button></a>
    <a _ngcontent-tww-1="" href="http://info.meteor.com/blog/author/uri-goldshtein?__hstc=219992390.b4a81f3b906b078dac633307097097f5.1471207723059.1471890076881.1471938647239.7&amp;__hssc=219992390.3.1471938647239&amp;__hsfp=714783454" target="_blank"><button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">Blog</span> </button></a>
    <a _ngcontent-tww-1="" href="https://docs.google.com/forms/d/e/1FAIpQLSed3JZ0EAcSzkX8Y-iEtvNQRfjeyP2ICQvYMs00ewdmKaplwA/viewform" target="_blank"><button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">Contact Us</span> </button></a>
    <a _ngcontent-tww-1="" href="/manifesto"><button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">Manifesto</span> </button></a>
    <a _ngcontent-tww-1="" href="/about"><button _ngcontent-tww-1="" md-button=""><span class="md-button-wrapper">About us</span> </button></a>
 </md-toolbar-row>  </div></md-toolbar>
<router-outlet _ngcontent-tww-1=""></router-outlet><tutorial _nghost-tww-6=""><div _ngcontent-tww-6="" class="tutorials-container">
    <nav _ngcontent-tww-6="" class="side-nav l-pinned-left l-layer-4 l-offset-nav">
        <tutorials-versions _ngcontent-tww-6="" _nghost-tww-7=""><!--template bindings={}--><a _ngcontent-tww-7="" md-raised-button="" class="tutorial-version md-primary active" className="tutorial-version md-primary active" href="/tutorials/socially/angular1/search-sort-pagination-and-reactive-vars">Angular 1</a><a _ngcontent-tww-7="" md-raised-button="" class="tutorial-version md-primary " className="tutorial-version md-primary " href="/tutorials/socially/angular2/search-sort-pagination-and-reactive-vars">Angular 2</a></tutorials-versions>
        <steps-list _ngcontent-tww-6=""><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/bootstrap">1. Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/static-template">2. Static Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/bindings">7. Bindings</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/folder-structure">8. Folder Structure</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/deploying-your-app">11. Deployment</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item active-step" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/google-maps">17. Google Maps</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/css-less-and-bootstrap">18. CSS, LESS and Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/ionic">23. Ionic</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}-->
</ul>
</steps-list>
    </nav>
    <div _ngcontent-tww-6="" class="top-navigation">
        <span _ngcontent-tww-6="" class="tutorial-title" stepName="">Filter and Pagination</span>
        <div _ngcontent-tww-6="" class="right-buttons">
            <a _ngcontent-tww-6="" class="md-primary" md-raised-button="" tutorialNavigation="previous" href="/tutorials/socially/angular1/running-your-app-on-android-or-ios-with-phonegap">Previous</a>
            <a _ngcontent-tww-6="" class="md-primary" codeDiffLink="" md-raised-button="" href="https://github.com/Urigo/meteor-angular-socially/compare/step_11...step_12">Code Diff</a>
            <a _ngcontent-tww-6="" class="md-primary" md-raised-button="" tutorialNavigation="next" href="/tutorials/socially/angular1/using-and-creating-angularjs-pipes">Next</a>
            <a _ngcontent-tww-6="" class="md-primary improv-button" md-raised-button="" href="https://github.com/Urigo/tutorial-infrastructure/edit/master/static-website/tutorials/socially/angular1/search-sort-pagination-and-reactive-vars.html">Improve This Document</a>
        </div>
    </div>
    <div _ngcontent-tww-6="" class="tutorial-content">
        <router-outlet _ngcontent-tww-6=""></router-outlet><tutorial-page><div class="tutorial-container"></div></tutorial-page><tutorial-page-content><p>Currently we are dealing with only a few parties, but we also need to support a large number of parties.</p>

<p>Therefore, we want to have <code ngNonBindable="">pagination</code> support.</p>

<p>With pagination we can break the array of parties down to pages so the user won't have to scroll down to find a party,
but also, and even more importantly, we can fetch only a few parties at a time instead of the entire parties collection for better performance.</p>

<p>The interesting thing about pagination is that it is dependent on the filters we want to put on top of the collection.
For example, if we are in page 3, but we change how we sort the collection, we should get different results.
Same thing with search: if we start a search, there might not be enough results for 3 pages.</p>

<p>For Angular 1 developers this chapter will show how powerful Meteor is.
In the official Angular 1 tutorial, we added sorting and search that only worked on the client side, which in real world scenarios is not very helpful.
Now, in this chapter we are going to perform a real-time search, sort and paginate that will run all the way to the server.</p>

<h1>angular-meteor pagination support</h1>

<p>What we want to achieve with angular-meteor is <em>server-based reactive pagination</em>.
That is no simple task, but using angular-meteor could make life a lot simpler.</p>

<p>To achieve server-based reactive pagination we need to have support for pagination on the server as well as on the client.
This means that our publish function for the parties collection would have to change and so does the way that we subscribe to that publication.
So first let's take care of our server-side:</p>

<p>In our <code ngNonBindable="">publish.js</code> file in the parties directory we are going to add the <code ngNonBindable="">options</code> variable to the publish method like this:</p>

<p><diffbox step="12.1" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.1</span> <span _ngcontent-tww-12="" class="commit-summary">Add options to the parties publish</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/452f87fb93671b93250f45a010475b78061420a8">imports/api/parties/publish.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number">8</pre><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number"> </pre><pre _ngcontent-tww-12="" class="line-number">26</pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">if</span> (Meteor.isServer) {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  Meteor.publish(<span class="hljs-string">'parties'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">const</span> selector = {</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      $or: [{</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">        <span class="hljs-comment">// the public parties</span></pre><pre _ngcontent-tww-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      }]</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> Parties.find(selector, options);</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  });</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">}</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now our publish method receives an options argument which we then pass to the <code ngNonBindable="">Parties.find()</code> function call.
This will allow us to send arguments to the find function's modifier right from the subscribe call. The options object can
contain properties like <code ngNonBindable="">skip</code>, <code ngNonBindable="">sort</code> and <code ngNonBindable="">limit</code> which we will shortly use ourselves - <a href="http://docs.meteor.com/#/full/find">Collection Find</a>.</p>

<p>Let's get back to our client code. We now need to change our subscribe call with options we want to set for pagination.
What are those parameters that we want to set on the options argument? In order to have pagination in our
parties list we will need to save the current page, the number of parties per page and the sort order. So let's add these parameters to our PartiesList component.</p>

<p>We will <code ngNonBindable="">perPage</code>, <code ngNonBindable="">page</code> and <code ngNonBindable="">sort</code> variables will later effect our subscription and we want the subscription to re-run every time one of them changes.</p>

<p><diffbox step="12.2" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.2</span> <span _ngcontent-tww-12="" class="commit-summary">Add the pagination default params</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/ee46fe5909c8fcba5646a053fb71bacbe2d99ab0">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">13</pre><pre _ngcontent-tww-12="" class="line-number">14</pre><pre _ngcontent-tww-12="" class="line-number">15</pre><pre _ngcontent-tww-12="" class="line-number">16</pre><pre _ngcontent-tww-12="" class="line-number">17</pre><pre _ngcontent-tww-12="" class="line-number">18</pre><pre _ngcontent-tww-12="" class="line-number">19</pre><pre _ngcontent-tww-12="" class="line-number">20</pre><pre _ngcontent-tww-12="" class="line-number">21</pre><pre _ngcontent-tww-12="" class="line-number">22</pre><pre _ngcontent-tww-12="" class="line-number">23</pre><pre _ngcontent-tww-12="" class="line-number">24</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    $reactive(<span class="hljs-keyword">this</span>).attach($scope);</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.perPage = <span class="hljs-number">3</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.page = <span class="hljs-number">1</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.sort = {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      name: <span class="hljs-number">1</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    };</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'parties'</span>);</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Right now, we just use <code ngNonBindable="">subscribe</code> without any parameters, but we need to provide some arguments to the subscriptions.</p>

<p>In order to do that, we will add a second parameter to the <code ngNonBindable="">subscribe</code> method, and we will provide a function that returns an array of arguments for the subscription.</p>

<p>We will use <code ngNonBindable="">getReactively</code> in order to get the current value, and this will also make them Reactive variables, and every change of them will effect the subscription parameters.</p>

<p><diffbox step="12.3" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.3</span> <span _ngcontent-tww-12="" class="commit-summary">Add the params to the subscription</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/d61d1f1d4ca04f3016d88a835308d975c0e7243c">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">19</pre><pre _ngcontent-tww-12="" class="line-number">20</pre><pre _ngcontent-tww-12="" class="line-number">21</pre><pre _ngcontent-tww-12="" class="line-number">22</pre><pre _ngcontent-tww-12="" class="line-number">23</pre><pre _ngcontent-tww-12="" class="line-number">24</pre><pre _ngcontent-tww-12="" class="line-number">25</pre><pre _ngcontent-tww-12="" class="line-number">26</pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context">      name: <span class="hljs-number">1</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'parties'</span>, () =&gt; [{</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      limit: <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.perPage),</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      skip: <span class="hljs-built_in">parseInt</span>((<span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'page'</span>) - <span class="hljs-number">1</span>) * <span class="hljs-keyword">this</span>.perPage),</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      sort: <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'sort'</span>)}</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    ]);</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      parties() {</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>That means that <code ngNonBindable="">this.page</code> and <code ngNonBindable="">this.sort</code> are now reactive and Meteor will re-run the subscription every time one of them will change.</p>

<p>Now we've built an object that contains 3 properties:</p>

<ul><li><strong>limit</strong> - how many parties to send per page</li><li><strong>skip</strong>  - the number of parties we want to start with, which is the current page minus one, times the parties per page</li><li><strong>sort</strong>  - the sorting of the collection in <a href="http://docs.mongodb.org/manual/reference/method/cursor.sort/">MongoDB syntax</a></li></ul>

<p>Now we also need to add the sort modifier to the way we get the collection data from the Minimongo.
That is because the sorting is not saved when the data is sent from the server to the client.
So to make sure our data is also sorted on the client, we need to define it again in the parties collection.</p>

<p>To do that we are going to add the <code ngNonBindable="">sort</code> variable, and use it again with <code ngNonBindable="">getReactively</code>, in order to run the helper each time the <code ngNonBindable="">sort</code> changes:</p>

<p><diffbox step="12.4" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.4</span> <span _ngcontent-tww-12="" class="commit-summary">Add the sort parameter to the collection helper</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/710e5d5dcf75a2d65bda510af2f7aafe9f2ffbe5">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre><pre _ngcontent-tww-12="" class="line-number">32</pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre><pre _ngcontent-tww-12="" class="line-number">35</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      parties() {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        <span class="hljs-keyword">return</span> Parties.find({}, {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          sort : <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'sort'</span>)</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      }</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    });</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  }</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<h1>pagination directive</h1>

<p>Now we need a UI to change pages and move between them.</p>

<p>In Angular 1's eco system there are a lot of directives for handling pagination.</p>

<p>Our personal favorite is <a href="https://github.com/michaelbromley/angularUtils/tree/master/src/directives/pagination">angular-utils-pagination</a>.</p>

<p>To add the directive add its Meteor package to the project:</p>

<pre><code ngNonBindable="">meteor npm install --save angular-utils-pagination</code></pre>

<p>Add it as a dependency to our Socially app:</p>

<p><diffbox step="12.6" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.6</span> <span _ngcontent-tww-12="" class="commit-summary">Add new dependency</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/8335ba0121612efce89538abb73a7983afdd66ac">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number"> </pre><pre _ngcontent-tww-12="" class="line-number">42</pre><pre _ngcontent-tww-12="" class="line-number">43</pre><pre _ngcontent-tww-12="" class="line-number">44</pre><pre _ngcontent-tww-12="" class="line-number">45</pre><pre _ngcontent-tww-12="" class="line-number">46</pre><pre _ngcontent-tww-12="" class="line-number">47</pre><pre _ngcontent-tww-12="" class="line-number">48</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> uiRouter <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-ui-router'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> utilsPagination <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-utils-pagination'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partiesList.html'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../api/parties'</span>;</pre><pre _ngcontent-tww-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  angularMeteor,</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  uiRouter,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  utilsPagination,</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  PartyAdd,</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  PartyRemove</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">]).component(name, {</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now let's add the directive in <code ngNonBindable="">PartiesList</code>, change the <code ngNonBindable="">ng-repeat</code> of parties to this:</p>

<p><diffbox step="12.7" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.7</span> <span _ngcontent-tww-12="" class="commit-summary">Add usage to the dir-pagination directive</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/21e8faae4bda427f6498726598b06037fbcf218c">imports/ui/components/partiesList/partiesList.html</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">party-add</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-add</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">dir-paginate</span>=<span class="hljs-string">"party in partiesList.parties | itemsPerPage: partiesList.perPage"</span> <span class="hljs-attr">total-items</span>=<span class="hljs-string">"partiesList.partiesCount"</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ui-sref</span>=<span class="hljs-string">"partyDetails({ partyId: party._id })"</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      {{party.name}}</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>and after the UL closes, add this directive:</p>

<p><diffbox step="12.8" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.8</span> <span _ngcontent-tww-12="" class="commit-summary">Add the pagination controls to the view</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/2c08e3bd0bd69e15458c2cbc223e0ba65f10524d">imports/ui/components/partiesList/partiesList.html</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number">10</pre><pre _ngcontent-tww-12="" class="line-number">11</pre><pre _ngcontent-tww-12="" class="line-number">12</pre><pre _ngcontent-tww-12="" class="line-number">13</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">party-remove</span> <span class="hljs-attr">party</span>=<span class="hljs-string">"party"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-remove</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">dir-pagination-controls</span> <span class="hljs-attr">on-page-change</span>=<span class="hljs-string">"partiesList.pageChanged(newPageNumber)"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">dir-pagination-controls</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>As you can see, <code ngNonBindable="">dir-paginate</code> list takes the number of objects in a page (that we defined before) but also takes the total number of items (we will get to that soon).
With this binding it calculates which page buttons it should display inside the <code ngNonBindable="">dir-pagination-controls</code> directive.</p>

<p>On the <code ngNonBindable="">dir-pagination-controls</code> directive there is a method <code ngNonBindable="">on-page-change</code> and there we can call our own function.</p>

<p>So we call the <code ngNonBindable="">pageChanged</code> function with the new selection as a parameter.</p>

<p>Let's create the <code ngNonBindable="">pageChanged</code> function inside the <code ngNonBindable="">PartiesList</code> component:</p>

<p><diffbox step="12.9" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.9</span> <span _ngcontent-tww-12="" class="commit-summary">Add the pageChanged method to the component</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/509175c332b4713e0ac89f0d6d3b103226d9bf2a">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">34</pre><pre _ngcontent-tww-12="" class="line-number">35</pre><pre _ngcontent-tww-12="" class="line-number">36</pre><pre _ngcontent-tww-12="" class="line-number">37</pre><pre _ngcontent-tww-12="" class="line-number">38</pre><pre _ngcontent-tww-12="" class="line-number">39</pre><pre _ngcontent-tww-12="" class="line-number">40</pre><pre _ngcontent-tww-12="" class="line-number">41</pre><pre _ngcontent-tww-12="" class="line-number">42</pre><pre _ngcontent-tww-12="" class="line-number">43</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context">      }</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    });</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  }</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  pageChanged(newPage) {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.page = newPage;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">}</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partiesList'</span>;</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now every time we change the page, the scope variable will change accordingly and update the bind method that watches it.</p>

<ul><li>Note that, at this point, the pagination will <em>not</em> work until we add the missing <code ngNonBindable="">partiesCount</code> variable in the next step of the tutorial.</li></ul>

<h1>Getting the total count of a collection</h1>

<p>Getting a total count of a collection might seem easy, but there is a problem:
The client only holds the number of objects that it subscribed to. This means that, if the client is not subscribed to the whole array, calling find().count on a collection will result in a partial count.</p>

<p>So we need access on the client to the total count even if we are not subscribed to the whole collection.</p>

<p>For that we can use the <a href="https://github.com/percolatestudio/publish-counts">tmeasday:publish-counts</a> package.
On the command line:</p>

<pre><code ngNonBindable="">meteor add tmeasday:publish-counts</code></pre>

<p>This package helps to publish the count of a cursor in real-time, without any dependency on the subscribe method.</p>

<p>Inside the <code ngNonBindable="">imports/api/parties/publish.js</code> file, add the code that handles the count inside the <code ngNonBindable="">Meteor.publish('parties')</code> function, at the beginning of the function, before the existing return statement.
So the file should look like this now:</p>

<p><diffbox step="12.11" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.11</span> <span _ngcontent-tww-12="" class="commit-summary">Add usage of Counts</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/fade5a6b4ec0007fe7410656761246b465567dfe">imports/api/parties/publish.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number"> </pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre><pre _ngcontent-tww-12="" class="line-number">32</pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre><pre _ngcontent-tww-12="" class="line-number">35</pre><pre _ngcontent-tww-12="" class="line-number">36</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Counts } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/tmeasday:publish-counts'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      }]</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    Counts.publish(<span class="hljs-keyword">this</span>, <span class="hljs-string">'numberOfParties'</span>, Parties.find(selector), {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      noReady: <span class="hljs-literal">true</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">return</span> Parties.find(selector, options);</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  });</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">}</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>As you can see, we query only the parties that should be available to that specific client, but without the options variable so we get the full number of parties.</p>

<ul><li>We are passing <code ngNonBindable="">{ noReady: true }</code> in the last argument so that the publication will be ready only after our main cursor is ready - <a href="https://github.com/percolatestudio/publish-counts#readiness">readiness</a>.</li></ul>

<p>With this, we have access to the Counts collection from our client.</p>

<p>So let's create another helper that uses <code ngNonBindable="">Counts</code>:</p>

<p><diffbox step="12.12" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.12</span> <span _ngcontent-tww-12="" class="commit-summary">Add the Count usage in the component</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/ee766abf0e405182c120045f0ff04b651029538c">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number">8</pre><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number">10</pre><pre _ngcontent-tww-12="" class="line-number"> </pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre><pre _ngcontent-tww-12="" class="line-number">35</pre><pre _ngcontent-tww-12="" class="line-number">36</pre><pre _ngcontent-tww-12="" class="line-number">37</pre><pre _ngcontent-tww-12="" class="line-number">38</pre><pre _ngcontent-tww-12="" class="line-number">39</pre><pre _ngcontent-tww-12="" class="line-number">40</pre><pre _ngcontent-tww-12="" class="line-number">41</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> uiRouter <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-ui-router'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> utilsPagination <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-utils-pagination'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Counts } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/tmeasday:publish-counts'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partiesList.html'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../api/parties'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyAdd } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyAdd/partyAdd'</span>;</pre><pre _ngcontent-tww-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">        <span class="hljs-keyword">return</span> Parties.find({}, {</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">          sort : <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'sort'</span>)</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">        });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      },</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      partiesCount() {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        <span class="hljs-keyword">return</span> Counts.get(<span class="hljs-string">'numberOfParties'</span>);</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      }</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    });</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  }</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now the <code ngNonBindable="">partiesCount</code> will hold the number of parties and will send it to the directive in <code ngNonBindable="">PartiesList</code> (which we've already defined earlier).</p>

<h1>Reactive variables</h1>

<p>Meteor is relying deeply on the concept of <a href="http://docs.meteor.com/#/full/reactivity">reactivity</a>.</p>

<p>This means that, when a <a href="http://docs.meteor.com/#/full/reactivevar">reactive variable</a> changes, Meteor is made aware of it via its <a href="http://docs.meteor.com/#/full/tracker_autorun">Tracker object</a>.</p>

<p>But Angular's scope variables are only watched by Angular and are not reactive vars for Meteor...</p>

<p>For that, angular-meteor provides the <code ngNonBindable="">helpers</code>, and each time you will defined a variable, a new <code ngNonBindable="">ReactiveVar</code> will be created and will cause the Tracker to update all the subscriptions!</p>

<h1>Changing the sort order reactively</h1>

<p>We haven't placed a way to change sorting anywhere in the UI, so let's do that right now.</p>

<p>Create template for the new Component called <code ngNonBindable="">PartiesSort</code>:</p>

<p><diffbox step="12.13" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.13</span> <span _ngcontent-tww-12="" class="commit-summary">Create view for PartiesSort component</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/b074bc780768026f49bc295dd407d64beb7d0b62">imports/ui/components/partiesSort/partiesSort.html</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">select</span> <span class="hljs-attr">ng-model</span>=<span class="hljs-string">"partiesSort.order"</span> <span class="hljs-attr">ng-change</span>=<span class="hljs-string">"partiesSort.changed()"</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"1"</span>&gt;</span>Ascending<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">option</span> <span class="hljs-attr">value</span>=<span class="hljs-string">"-1"</span>&gt;</span>Descending<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now we can create actual component:</p>

<p><diffbox step="12.14" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.14</span> <span _ngcontent-tww-12="" class="commit-summary">Create PartiesSort component</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/231aeab9b1ada6b53f3c891a92100f7c7ce80e76">imports/ui/components/partiesSort/partiesSort.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number">8</pre><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number">10</pre><pre _ngcontent-tww-12="" class="line-number">11</pre><pre _ngcontent-tww-12="" class="line-number">12</pre><pre _ngcontent-tww-12="" class="line-number">13</pre><pre _ngcontent-tww-12="" class="line-number">14</pre><pre _ngcontent-tww-12="" class="line-number">15</pre><pre _ngcontent-tww-12="" class="line-number">16</pre><pre _ngcontent-tww-12="" class="line-number">17</pre><pre _ngcontent-tww-12="" class="line-number">18</pre><pre _ngcontent-tww-12="" class="line-number">19</pre><pre _ngcontent-tww-12="" class="line-number">20</pre><pre _ngcontent-tww-12="" class="line-number">21</pre><pre _ngcontent-tww-12="" class="line-number">22</pre><pre _ngcontent-tww-12="" class="line-number">23</pre><pre _ngcontent-tww-12="" class="line-number">24</pre><pre _ngcontent-tww-12="" class="line-number">25</pre><pre _ngcontent-tww-12="" class="line-number">26</pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre><pre _ngcontent-tww-12="" class="line-number">32</pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angular <span class="hljs-keyword">from</span> <span class="hljs-string">'angular'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> angularMeteor <span class="hljs-keyword">from</span> <span class="hljs-string">'angular-meteor'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partiesSort.html'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PartiesSort</span> </span>{</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  <span class="hljs-keyword">constructor</span>() {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.changed();</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  changed() {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.onChange({</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      sort: {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        [<span class="hljs-keyword">this</span>.property]: <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.order)</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">}</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partiesSort'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-comment">// create a module</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> angular.module(name, [</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  angularMeteor</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">]).component(name, {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  template,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  bindings: {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    onChange: <span class="hljs-string">'&amp;'</span>,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    property: <span class="hljs-string">'@'</span>,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    order: <span class="hljs-string">'@'</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  },</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  controllerAs: name,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  controller: PartiesSort</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Binding? Methods? Don't worry. Let me explain it.</p>

<p>PartiesSort uses 3 bindings:</p>

<ul><li>onChange - an expression that is called on every sort change</li><li>property - a value with field's name that will be used in sorting</li><li>order - a value with default order (1 or -1)</li></ul>

<p>As you can see there is a changed() method. It is called when user changes sorting order. It calls onChange expression with one argument wich is the <em>sort</em> object. It contains just one property (you can expend it in the future!) with name of the sorted field as a key and the order as a value.</p>

<p>Let's now add our component to the PartiesList:</p>

<p><diffbox step="12.15" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.15</span> <span _ngcontent-tww-12="" class="commit-summary">Add as a dependency</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/8b0b1c8c0233837a174911fbf988b4997e313a70">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number">8</pre><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number">10</pre><pre _ngcontent-tww-12="" class="line-number">11</pre><pre _ngcontent-tww-12="" class="line-number">12</pre><pre _ngcontent-tww-12="" class="line-number">13</pre><pre _ngcontent-tww-12="" class="line-number"> </pre><pre _ngcontent-tww-12="" class="line-number">53</pre><pre _ngcontent-tww-12="" class="line-number">54</pre><pre _ngcontent-tww-12="" class="line-number">55</pre><pre _ngcontent-tww-12="" class="line-number">56</pre><pre _ngcontent-tww-12="" class="line-number">57</pre><pre _ngcontent-tww-12="" class="line-number">58</pre><pre _ngcontent-tww-12="" class="line-number">59</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> template <span class="hljs-keyword">from</span> <span class="hljs-string">'./partiesList.html'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../api/parties'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartiesSort } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partiesSort/partiesSort'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyAdd } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyAdd/partyAdd'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyRemove } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyRemove/partyRemove'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  angularMeteor,</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  uiRouter,</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  utilsPagination,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  PartiesSort,</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  PartyAdd,</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  PartyRemove</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">]).component(name, {</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="12.16" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.16</span> <span _ngcontent-tww-12="" class="commit-summary">Implement component</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/6572a85854c67545de7a517411aaf5f5bf8cfa1d">imports/ui/components/partiesList/partiesList.html</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">party-add</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-add</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">parties-sort</span> <span class="hljs-attr">on-change</span>=<span class="hljs-string">"partiesList.sortChanged(sort)"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">order</span>=<span class="hljs-string">"1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">parties-sort</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">dir-paginate</span>=<span class="hljs-string">"party in partiesList.parties | itemsPerPage: partiesList.perPage"</span> <span class="hljs-attr">total-items</span>=<span class="hljs-string">"partiesList.partiesCount"</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ui-sref</span>=<span class="hljs-string">"partyDetails({ partyId: party._id })"</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>We made PartiesSort to use <em>name</em> field with ASC order by default. We also added onChange expression. It is just to handle changes.</p>

<p><diffbox step="12.17" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.17</span> <span _ngcontent-tww-12="" class="commit-summary">Handle sort changes</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7ab6b01a3a8cf1c28fc7e2fb81a69582b7300f10">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">44</pre><pre _ngcontent-tww-12="" class="line-number">45</pre><pre _ngcontent-tww-12="" class="line-number">46</pre><pre _ngcontent-tww-12="" class="line-number">47</pre><pre _ngcontent-tww-12="" class="line-number">48</pre><pre _ngcontent-tww-12="" class="line-number">49</pre><pre _ngcontent-tww-12="" class="line-number">50</pre><pre _ngcontent-tww-12="" class="line-number">51</pre><pre _ngcontent-tww-12="" class="line-number">52</pre><pre _ngcontent-tww-12="" class="line-number">53</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context">  pageChanged(newPage) {</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.page = newPage;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">  }</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  sortChanged(sort) {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.sort = sort;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">}</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">const</span> name = <span class="hljs-string">'partiesList'</span>;</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>And we don't have to do anything other than that, because we defined <code ngNonBindable="">sort</code> variable as helper, and when we will change it, Angular-Meteor will take care of updating the subscription for us.</p>

<p>So all we have left is to sit back and enjoy our pagination working like a charm.</p>

<p>We've made a lot of changes, so please check the step's code <a href="https://github.com/Urigo/meteor-angular-socially/compare/step_11...step_12">here</a>
to make sure you have everything needed and can run the application.</p>

<h1>Reactive Search</h1>

<p>Now that we have the basis for pagination, all we have left to do is add reactive full stack searching of parties. This means that we will be able to enter a search string, have the app search for parties that match that name in the server and return only the relevant results! This is pretty awesome, and we are going to do all that in only a few lines of code. So
let's get started!</p>

<p>As before, let's add the server-side support. We need to add a new argument to our publish method which will hold the
requested search string. We will call it... <code ngNonBindable="">searchString</code>! Here it goes:</p>

<p><diffbox step="12.18" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.18</span> <span _ngcontent-tww-12="" class="commit-summary">Add searchString to `parties` publication</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/dc0d6bf6eade4565902e4587bede444e16a0f640">imports/api/parties/publish.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number">8</pre><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number">10</pre><pre _ngcontent-tww-12="" class="line-number"> </pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre><pre _ngcontent-tww-12="" class="line-number">32</pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre><pre _ngcontent-tww-12="" class="line-number">35</pre><pre _ngcontent-tww-12="" class="line-number">36</pre><pre _ngcontent-tww-12="" class="line-number">37</pre><pre _ngcontent-tww-12="" class="line-number">38</pre><pre _ngcontent-tww-12="" class="line-number">39</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-keyword">if</span> (Meteor.isServer) {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  Meteor.publish(<span class="hljs-string">'parties'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options, searchString</span>) </span>{</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">const</span> selector = {</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      $or: [{</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">        <span class="hljs-comment">// the public parties</span></pre><pre _ngcontent-tww-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      }]</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> searchString === <span class="hljs-string">'string'</span> &amp;&amp; searchString.length) {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      selector.name = {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        $regex: <span class="hljs-string">`.*<span class="hljs-subst">${searchString}</span>.*`</span>,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        $options : <span class="hljs-string">'i'</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      };</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    }</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    Counts.publish(<span class="hljs-keyword">this</span>, <span class="hljs-string">'numberOfParties'</span>, Parties.find(selector), {</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      noReady: <span class="hljs-literal">true</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    });</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now we are going to filter the correct results using mongo's regex ability. We are going to add this
line in those two places where we are using <code ngNonBindable="">find</code>: in publish Counts and in the return of the parties cursor:</p>

<pre><code ngNonBindable="">'name' : { '$regex' : `.*${searchString}.*`, '$options' : 'i' },</code></pre>

<p>As you can see, this will filter all the parties whose name contains the searchString.</p>

<blockquote><p>We added also <code ngNonBindable="">if (typeof searchString === 'string' &amp;&amp; searchString.length)</code> so that, if we don't get that parameter, we will just return the whole collection.</p></blockquote>

<p>Now let's move on to the client-side.
First let's place a search input into our template and bind it to a 'searchText' component variable:</p>

<p><diffbox step="12.20" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.20</span> <span _ngcontent-tww-12="" class="commit-summary">Add input with searchText as ngModel</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/0729b7356c327460247475a9a56ef4a0b840274a">imports/ui/components/partiesList/partiesList.html</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">party-add</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">party-add</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"search"</span> <span class="hljs-attr">ng-model</span>=<span class="hljs-string">"partiesList.searchText"</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Search"</span> /&gt;</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">parties-sort</span> <span class="hljs-attr">on-change</span>=<span class="hljs-string">"partiesList.sortChanged(sort)"</span> <span class="hljs-attr">property</span>=<span class="hljs-string">"name"</span> <span class="hljs-attr">order</span>=<span class="hljs-string">"1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">parties-sort</span>&gt;</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>And all we have left to do is call the subscribe method with our reactive variable, and add the <code ngNonBindable="">searchText</code> as reactive helper:</p>

<p><diffbox step="12.19" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.19</span> <span _ngcontent-tww-12="" class="commit-summary">Add searchText to subscription</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c1ed895a3cb5fb0e2f4a3cf9516f04614649c4e5">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">22</pre><pre _ngcontent-tww-12="" class="line-number">23</pre><pre _ngcontent-tww-12="" class="line-number">24</pre><pre _ngcontent-tww-12="" class="line-number">25</pre><pre _ngcontent-tww-12="" class="line-number">26</pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre><pre _ngcontent-tww-12="" class="line-number">32</pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.sort = {</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">      name: <span class="hljs-number">1</span></pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.searchText = <span class="hljs-string">''</span>;</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'parties'</span>, () =&gt; [{</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        limit: <span class="hljs-built_in">parseInt</span>(<span class="hljs-keyword">this</span>.perPage),</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        skip: <span class="hljs-built_in">parseInt</span>((<span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'page'</span>) - <span class="hljs-number">1</span>) * <span class="hljs-keyword">this</span>.perPage),</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        sort: <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'sort'</span>)</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      }, <span class="hljs-keyword">this</span>.getReactively(<span class="hljs-string">'searchText'</span>)</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    ]);</pre><pre _ngcontent-tww-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-tww-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<h1>Testing</h1>

<p><diffbox step="12.21" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.21</span> <span _ngcontent-tww-12="" class="commit-summary">Tests of PartiesSort</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/f6eb9d5ba8f745b787ad14e899b4b5086cfe446f">imports/ui/components/partiesSort/client/partiesSort.tests.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number">8</pre><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number">10</pre><pre _ngcontent-tww-12="" class="line-number">11</pre><pre _ngcontent-tww-12="" class="line-number">12</pre><pre _ngcontent-tww-12="" class="line-number">13</pre><pre _ngcontent-tww-12="" class="line-number">14</pre><pre _ngcontent-tww-12="" class="line-number">15</pre><pre _ngcontent-tww-12="" class="line-number">16</pre><pre _ngcontent-tww-12="" class="line-number">17</pre><pre _ngcontent-tww-12="" class="line-number">18</pre><pre _ngcontent-tww-12="" class="line-number">19</pre><pre _ngcontent-tww-12="" class="line-number">20</pre><pre _ngcontent-tww-12="" class="line-number">21</pre><pre _ngcontent-tww-12="" class="line-number">22</pre><pre _ngcontent-tww-12="" class="line-number">23</pre><pre _ngcontent-tww-12="" class="line-number">24</pre><pre _ngcontent-tww-12="" class="line-number">25</pre><pre _ngcontent-tww-12="" class="line-number">26</pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre><pre _ngcontent-tww-12="" class="line-number">32</pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre><pre _ngcontent-tww-12="" class="line-number">35</pre><pre _ngcontent-tww-12="" class="line-number">36</pre><pre _ngcontent-tww-12="" class="line-number">37</pre><pre _ngcontent-tww-12="" class="line-number">38</pre><pre _ngcontent-tww-12="" class="line-number">39</pre><pre _ngcontent-tww-12="" class="line-number">40</pre><pre _ngcontent-tww-12="" class="line-number">41</pre><pre _ngcontent-tww-12="" class="line-number">42</pre><pre _ngcontent-tww-12="" class="line-number">43</pre><pre _ngcontent-tww-12="" class="line-number">44</pre><pre _ngcontent-tww-12="" class="line-number">45</pre><pre _ngcontent-tww-12="" class="line-number">46</pre><pre _ngcontent-tww-12="" class="line-number">47</pre><pre _ngcontent-tww-12="" class="line-number">48</pre><pre _ngcontent-tww-12="" class="line-number">49</pre><pre _ngcontent-tww-12="" class="line-number">50</pre><pre _ngcontent-tww-12="" class="line-number">51</pre><pre _ngcontent-tww-12="" class="line-number">52</pre><pre _ngcontent-tww-12="" class="line-number">53</pre><pre _ngcontent-tww-12="" class="line-number">54</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartiesSort } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partiesSort'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'angular-mocks'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">describe(<span class="hljs-string">'PartiesSort'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  beforeEach(() =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-built_in">window</span>.module(PartiesSort);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  describe(<span class="hljs-string">'controller'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">let</span> controller;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> onChange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{};</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> property = <span class="hljs-string">'name'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> order = <span class="hljs-number">-1</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    beforeEach(() =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      inject(($rootScope, $componentController) =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        controller = $componentController(PartiesSort, {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          $scope: $rootScope.$<span class="hljs-keyword">new</span>(<span class="hljs-literal">true</span>)</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        }, {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          onChange,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          property,</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          order</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should set property'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.property).toEqual(property);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should set order'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.order).toEqual(order);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should set onChange'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.onChange).toBe(onChange);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    describe(<span class="hljs-string">'changed()'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      it(<span class="hljs-string">'should call onChange expression'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        spyOn(controller, <span class="hljs-string">'onChange'</span>);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        controller.changed();</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        expect(controller.onChange).toHaveBeenCalledWith({</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          sort: {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">            [property]: order</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          }</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="12.22" tutorial="angular1-meteor-socially" _nghost-tww-12=""><div _ngcontent-tww-12="" class="diffbox">
    <div _ngcontent-tww-12="" class="title-panel">
        <span _ngcontent-tww-12="" class="step-number">12.22</span> <span _ngcontent-tww-12="" class="commit-summary">Tests of PartiesList</span>
        <a _ngcontent-tww-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/ba68c908b67881931c03ddf33b330f7df9428fa3">imports/ui/components/partiesList/client/partiesList.tests.js</a>
    </div>
    <div _ngcontent-tww-12="" class="code-container">
        <div _ngcontent-tww-12="" class="scroll-container">
            <div _ngcontent-tww-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-number">1</pre><pre _ngcontent-tww-12="" class="line-number">2</pre><pre _ngcontent-tww-12="" class="line-number">3</pre><pre _ngcontent-tww-12="" class="line-number">4</pre><pre _ngcontent-tww-12="" class="line-number">5</pre><pre _ngcontent-tww-12="" class="line-number">6</pre><pre _ngcontent-tww-12="" class="line-number">7</pre><pre _ngcontent-tww-12="" class="line-number">8</pre><pre _ngcontent-tww-12="" class="line-number">9</pre><pre _ngcontent-tww-12="" class="line-number">10</pre><pre _ngcontent-tww-12="" class="line-number">11</pre><pre _ngcontent-tww-12="" class="line-number">12</pre><pre _ngcontent-tww-12="" class="line-number">13</pre><pre _ngcontent-tww-12="" class="line-number">14</pre><pre _ngcontent-tww-12="" class="line-number">15</pre><pre _ngcontent-tww-12="" class="line-number">16</pre><pre _ngcontent-tww-12="" class="line-number">17</pre><pre _ngcontent-tww-12="" class="line-number">18</pre><pre _ngcontent-tww-12="" class="line-number">19</pre><pre _ngcontent-tww-12="" class="line-number">20</pre><pre _ngcontent-tww-12="" class="line-number">21</pre><pre _ngcontent-tww-12="" class="line-number">22</pre><pre _ngcontent-tww-12="" class="line-number">23</pre><pre _ngcontent-tww-12="" class="line-number">24</pre><pre _ngcontent-tww-12="" class="line-number">25</pre><pre _ngcontent-tww-12="" class="line-number">26</pre><pre _ngcontent-tww-12="" class="line-number">27</pre><pre _ngcontent-tww-12="" class="line-number">28</pre><pre _ngcontent-tww-12="" class="line-number">29</pre><pre _ngcontent-tww-12="" class="line-number">30</pre><pre _ngcontent-tww-12="" class="line-number">31</pre><pre _ngcontent-tww-12="" class="line-number">32</pre><pre _ngcontent-tww-12="" class="line-number">33</pre><pre _ngcontent-tww-12="" class="line-number">34</pre><pre _ngcontent-tww-12="" class="line-number">35</pre><pre _ngcontent-tww-12="" class="line-number">36</pre><pre _ngcontent-tww-12="" class="line-number">37</pre><pre _ngcontent-tww-12="" class="line-number">38</pre><pre _ngcontent-tww-12="" class="line-number">39</pre><pre _ngcontent-tww-12="" class="line-number">40</pre><pre _ngcontent-tww-12="" class="line-number">41</pre><pre _ngcontent-tww-12="" class="line-number">42</pre><pre _ngcontent-tww-12="" class="line-number">43</pre><pre _ngcontent-tww-12="" class="line-number">44</pre><pre _ngcontent-tww-12="" class="line-number">45</pre><pre _ngcontent-tww-12="" class="line-number">46</pre><pre _ngcontent-tww-12="" class="line-number">47</pre><pre _ngcontent-tww-12="" class="line-number">48</pre><pre _ngcontent-tww-12="" class="line-number">49</pre><pre _ngcontent-tww-12="" class="line-number">50</pre>
            </div>
            <div _ngcontent-tww-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartiesList } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partiesList'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'angular-mocks'</span>;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">describe(<span class="hljs-string">'PartiesList'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  beforeEach(() =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-built_in">window</span>.module(PartiesList);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  describe(<span class="hljs-string">'controller'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    <span class="hljs-keyword">let</span> controller;</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    beforeEach(() =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      inject(($rootScope, $componentController) =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        controller = $componentController(PartiesList, {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">          $scope: $rootScope.$<span class="hljs-keyword">new</span>(<span class="hljs-literal">true</span>)</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should have perPage that equals 3 by default'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.perPage).toEqual(<span class="hljs-number">3</span>);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should have page that equals 1 by default'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.page).toEqual(<span class="hljs-number">1</span>);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should sort by name - ASC'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.sort).toEqual({</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        name: <span class="hljs-number">1</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should be able to change sorting'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      controller.sortChanged({</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        name: <span class="hljs-number">-1</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.sort).toEqual({</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">        name: <span class="hljs-number">-1</span></pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    it(<span class="hljs-string">'should be able to change page'</span>, () =&gt; {</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      controller.pageChanged(<span class="hljs-number">2</span>);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">      expect(controller.page).toEqual(<span class="hljs-number">2</span>);</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-tww-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Wow, that is all that's needed to have a fully reactive search with pagination! Quite amazing, right?</p>

<h1>Summary</h1>

<p>So now we have full pagination with search and sorting for client and server-side, with the help of Meteor's options and Angular 1's directives.</p></tutorial-page-content>
    </div>
</div></tutorial></app>


</body></html>