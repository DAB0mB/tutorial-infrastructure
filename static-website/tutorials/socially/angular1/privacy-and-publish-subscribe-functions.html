<!DOCTYPE html><html lang="en"><head>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,800,700italic,800italic" rel="stylesheet" type="text/css">
    <title>Angular2-Meteor</title>
    <meta charset="UTF-8">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <base href="/">
    <style>.logo[_ngcontent-rqf-1] {
  width: auto;
  height: 2em; }

.main-toolbar[_ngcontent-rqf-1] {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  box-shadow: 3px 0 6px rgba(0, 0, 0, 0.3);
  background: #90A4AE; }
  .main-toolbar[_ngcontent-rqf-1] a[_ngcontent-rqf-1] {
    color: white;
    text-decoration: none; }

.fill-remaining-space[_ngcontent-rqf-1] {
  -ms-flex: 1 1 auto;
      flex: 1 1 auto; }

.tutorials-dropdown[_ngcontent-rqf-1] {
  position: relative;
  display: inline-block; }
  .tutorials-dropdown[_ngcontent-rqf-1] .dropdown-content[_ngcontent-rqf-1] {
    display: none;
    position: absolute;
    background-color: #f9f9f9;
    min-width: 500px;
    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.2);
    border-radius: 5px;
    padding: 7px; }

.tutorials-dropdown[_ngcontent-rqf-1]:hover .dropdown-content[_ngcontent-rqf-1] {
  display: block; }</style><style>/*

Original highlight.js style (c) Ivan Sagalaev <maniac@softwaremaniacs.org>

*/
.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  background: #F0F0F0; }

/* Base color: saturation 0; */
.hljs,
.hljs-subst {
  color: #444; }

.hljs-comment {
  color: #888888; }

.hljs-keyword,
.hljs-attribute,
.hljs-selector-tag,
.hljs-meta-keyword,
.hljs-doctag,
.hljs-name {
  font-weight: bold; }

/* User color: hue: 0 */
.hljs-type,
.hljs-string,
.hljs-number,
.hljs-selector-id,
.hljs-selector-class,
.hljs-quote,
.hljs-template-tag,
.hljs-deletion {
  color: #880000; }

.hljs-title,
.hljs-section {
  color: #880000;
  font-weight: bold; }

.hljs-regexp,
.hljs-symbol,
.hljs-variable,
.hljs-template-variable,
.hljs-link,
.hljs-selector-attr,
.hljs-selector-pseudo {
  color: #BC6060; }

/* Language color: hue: 90; */
.hljs-literal {
  color: #78A960; }

.hljs-built_in,
.hljs-bullet,
.hljs-code,
.hljs-addition {
  color: #397300; }

/* Meta color: hue: 200 */
.hljs-meta {
  color: #1f7199; }

.hljs-meta-string {
  color: #4d99bf; }

/* Misc effects */
.hljs-emphasis {
  font-style: italic; }

.hljs-strong {
  font-weight: bold; }

/*

github.com style (c) Vasily Polovnyov <vast@whiteants.net>

*/
.hljs {
  display: block;
  overflow-x: auto;
  padding: 0.5em;
  color: #333;
  background: #f8f8f8; }

.hljs-comment,
.hljs-quote {
  color: #998;
  font-style: italic; }

.hljs-keyword,
.hljs-selector-tag,
.hljs-subst {
  color: #333;
  font-weight: bold; }

.hljs-number,
.hljs-literal,
.hljs-variable,
.hljs-template-variable,
.hljs-tag .hljs-attr {
  color: #008080; }

.hljs-string,
.hljs-doctag {
  color: #d14; }

.hljs-title,
.hljs-section,
.hljs-selector-id {
  color: #900;
  font-weight: bold; }

.hljs-subst {
  font-weight: normal; }

.hljs-type,
.hljs-class .hljs-title {
  color: #458;
  font-weight: bold; }

.hljs-tag,
.hljs-name,
.hljs-attribute {
  color: #000080;
  font-weight: normal; }

.hljs-regexp,
.hljs-link {
  color: #009926; }

.hljs-symbol,
.hljs-bullet {
  color: #990073; }

.hljs-built_in,
.hljs-builtin-name {
  color: #0086b3; }

.hljs-meta {
  color: #999;
  font-weight: bold; }

.hljs-deletion {
  background: #fdd; }

.hljs-addition {
  background: #dfd; }

.hljs-emphasis {
  font-style: italic; }

.hljs-strong {
  font-weight: bold; }

a {
  color: black; }

body {
  padding: 0;
  margin: 0;
  padding-top: 64px;
  font-family: 'Open Sans', sans-serif; }

pre {
  background: transparent;
  border: none;
  white-space: pre-wrap; }

code {
  white-space: pre-wrap; }

img[alt="angular1-wa-ionic-cli"], img[alt="angular1-wa-meteor-cli"] {
  width: 30%; }

.side-nav .step-item, .side-nav .api-list-item {
  margin: 0;
  padding: 0;
  border-bottom: 1px solid #CFD8DC;
  color: #546E7A; }

.side-nav .step-link, .side-nav .api-item-link, .side-nav .apis-versions-list li {
  text-decoration: none;
  color: #536E7A;
  display: block;
  font-size: 14px;
  padding: 16px 16px;
  margin: 0;
  background-color: #ECEFF1; }

.side-nav .active-step a {
  font-weight: bold; }

.side-nav .tutorial-steps-list, .side-nav .apis-list, .side-nav .apis-versions-list {
  list-style: none;
  padding-left: 0;
  margin-top: 8px; }

.apis-versions-list {
  margin: 0 !important; }
  .apis-versions-list li {
    padding: 8px !important; }
    .apis-versions-list li a {
      text-decoration: none; }

.dropdown-content {
  column-count: 2;
  column-width: 220px;
  column-rule: 1px solid #ECEFF1;
  column-gap: 0; }
  .dropdown-content .tutorial-steps-list {
    margin: 0 !important;
    list-style: none;
    padding: 0; }
    .dropdown-content .tutorial-steps-list .step-item {
      padding: 5px 0 5px 10px;
      border-bottom: 1px solid #ECEFF1;
      break-inside: avoid-column; }
      .dropdown-content .tutorial-steps-list .step-item a {
        text-decoration: none;
        font-size: small;
        color: black; }
      .dropdown-content .tutorial-steps-list .step-item .bold {
        font-weight: bold; }

.md-primary {
  background: #263238 !important;
  color: white !important;
  cursor: pointer !important; }
  .md-primary[disabled] {
    color: lightgray !important;
    cursor: not-allowed !important; }

tutorial-page-content pre code[ngnonbindable] {
  background: #eee;
  display: block;
  width: 90%;
  border-radius: 5px;
  padding: 10px; }

tutorial-page-content blockquote {
  margin: 0;
  position: relative;
  background: #eee;
  border-radius: 5px; }
  tutorial-page-content blockquote:before {
    content: '!';
    font-weight: bold;
    position: absolute;
    vertical-align: top;
    font-size: 2vw;
    color: white;
    margin-left: 6px; }
  tutorial-page-content blockquote p {
    border-left: 1px solid white;
    padding: 10px;
    margin-left: 20px; }

.diffbox {
  border-radius: 10px; }
  .diffbox .title-panel {
    border-radius: 10px 10px 0 0; }
  .diffbox .code-container {
    border-radius: 0 0 10px 10px; }

api-ref-container p code, api-ref-container ul li code {
  font-family: 'Open Sans', sans-serif; }

api-ref-container a {
  color: #263238;
  text-decoration: none;
  font-weight: bold; }

api-ref-container h3 {
  background: #eee;
  border-radius: 5px;
  padding: 4px;
  margin-top: 30px; }

api-ref-container table {
  width: 100%;
  background: #eee;
  border-radius: 5px;
  border-spacing: 0; }
  api-ref-container table thead {
    background: #546E7A;
    color: #eee;
    border-radius: 5px; }
    api-ref-container table thead tr {
      background: #546E7A;
      border-radius: 5px; }
      api-ref-container table thead tr th {
        padding: 6px; }
  api-ref-container table tbody td {
    padding: 5px; }
</style><style>/** * Mixin that creates a new stacking context. * see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context */ /** * This mixin hides an element visually. * That means it's still accessible for screen-readers but not visible in view. */ /** * Forces an element to grow to fit floated contents; used as as an alternative to * `overflow: hidden;` because it doesn't cut off contents. */ /** * A mixin, which generates temporary ink ripple on a given component. * When $bindToParent is set to true, it will check for the focused class on the same selector as you included * that mixin. * It is also possible to specify the color palette of the temporary ripple. By default it uses the * accent palette for its background. */ md-toolbar { display: -webkit-box; display: -ms-flexbox; display: flex; box-sizing: border-box; width: 100%; min-height: 64px; font-size: 20px; font-weight: 400; font-family: Roboto, "Helvetica Neue", sans-serif; padding: 0 16px; -webkit-box-orient: vertical; -webkit-box-direction: normal; -ms-flex-direction: column; flex-direction: column; background: whitesmoke; color: rgba(0, 0, 0, 0.87); } md-toolbar.md-primary { background: #009688; color: white; } md-toolbar.md-accent { background: #9c27b0; color: rgba(255, 255, 255, 0.870588); } md-toolbar.md-warn { background: #f44336; color: white; } md-toolbar md-toolbar-row { display: -webkit-box; display: -ms-flexbox; display: flex; box-sizing: border-box; width: 100%; height: 64px; -webkit-box-orient: horizontal; -webkit-box-direction: normal; -ms-flex-direction: row; flex-direction: row; -webkit-box-align: center; -ms-flex-align: center; align-items: center; } </style><style>/** * A collection of mixins and CSS classes that can be used to apply elevation to a material * element. * See: https://www.google.com/design/spec/what-is-material/elevation-shadows.html * Examples: * * * .md-foo { *   @include $md-elevation(2); * *   &:active { *     @include $md-elevation(8); *   } * } * * <div id="external-card" class="md-elevation-z2"><p>Some content</p></div> * * For an explanation of the design behind how elevation is implemented, see the design doc at * https://goo.gl/Kq0k9Z. */ /** * The css property used for elevation. In most cases this should not be changed. It is exposed * as a variable for abstraction / easy use when needing to reference the property directly, for * example in a will-change rule. */ /** The default duration value for elevation transitions. */ /** The default easing value for elevation transitions. */ /** * Applies the correct css rules to an element to give it the elevation specified by $zValue. * The $zValue must be between 0 and 24. */ /** * Returns a string that can be used as the value for a transition property for elevation. * Calling this function directly is useful in situations where a component needs to transition * more than one property. * * .foo { *   transition: md-elevation-transition-property-value(), opacity 100ms ease; *   will-change: $md-elevation-property, opacity; * } */ /** * Applies the correct css rules needed to have an element transition between elevations. * This mixin should be applied to elements whose elevation values will change depending on their * context (e.g. when active or disabled). */ /** Applies a property to an md-button element for each of the supported palettes. */ /** Applies a focus style to an md-button element for each of the supported palettes. */ [md-raised-button], [md-fab], [md-mini-fab], [md-button], [md-icon-button] { box-sizing: border-box; position: relative; background: transparent; text-align: center; cursor: pointer; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; outline: none; border: none; display: inline-block; white-space: nowrap; text-decoration: none; vertical-align: baseline; font-size: 14px; font-family: Roboto, "Helvetica Neue", sans-serif; font-weight: 500; color: currentColor; margin: 0; min-width: 88px; line-height: 36px; padding: 0 16px; border-radius: 3px; } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab], .md-primary[md-button], .md-primary[md-icon-button] { color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab], .md-accent[md-button], .md-accent[md-icon-button] { color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab], .md-warn[md-button], .md-warn[md-icon-button] { color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-primary[disabled][md-button], .md-primary[disabled][md-icon-button], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-accent[disabled][md-button], .md-accent[disabled][md-icon-button], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], .md-warn[disabled][md-button], .md-warn[disabled][md-icon-button], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab], [disabled][disabled][md-button], [disabled][disabled][md-icon-button] { color: rgba(0, 0, 0, 0.38); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab], [disabled][md-button], [disabled][md-icon-button] { cursor: default; } .md-button-focus[md-raised-button]::after, .md-button-focus[md-fab]::after, .md-button-focus[md-mini-fab]::after, .md-button-focus[md-button]::after, .md-button-focus[md-icon-button]::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } .md-button-focus.md-primary[md-raised-button]::after, .md-button-focus.md-primary[md-fab]::after, .md-button-focus.md-primary[md-mini-fab]::after, .md-button-focus.md-primary[md-button]::after, .md-button-focus.md-primary[md-icon-button]::after { background-color: rgba(0, 150, 136, 0.12); } .md-button-focus.md-accent[md-raised-button]::after, .md-button-focus.md-accent[md-fab]::after, .md-button-focus.md-accent[md-mini-fab]::after, .md-button-focus.md-accent[md-button]::after, .md-button-focus.md-accent[md-icon-button]::after { background-color: rgba(156, 39, 176, 0.12); } .md-button-focus.md-warn[md-raised-button]::after, .md-button-focus.md-warn[md-fab]::after, .md-button-focus.md-warn[md-mini-fab]::after, .md-button-focus.md-warn[md-button]::after, .md-button-focus.md-warn[md-icon-button]::after { background-color: rgba(244, 67, 54, 0.12); } [md-raised-button], [md-fab], [md-mini-fab] { box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12); background-color: #fafafa; -webkit-transform: translate3d(0, 0, 0); transform: translate3d(0, 0, 0); -webkit-transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); transition: background 400ms cubic-bezier(0.25, 0.8, 0.25, 1), box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { color: white; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { color: rgba(255, 255, 255, 0.870588); } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { color: white; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { color: rgba(0, 0, 0, 0.38); } .md-primary[md-raised-button], .md-primary[md-fab], .md-primary[md-mini-fab] { background-color: #009688; } .md-accent[md-raised-button], .md-accent[md-fab], .md-accent[md-mini-fab] { background-color: #9c27b0; } .md-warn[md-raised-button], .md-warn[md-fab], .md-warn[md-mini-fab] { background-color: #f44336; } .md-primary[disabled][md-raised-button], .md-primary[disabled][md-fab], .md-primary[disabled][md-mini-fab], .md-accent[disabled][md-raised-button], .md-accent[disabled][md-fab], .md-accent[disabled][md-mini-fab], .md-warn[disabled][md-raised-button], .md-warn[disabled][md-fab], .md-warn[disabled][md-mini-fab], [disabled][disabled][md-raised-button], [disabled][disabled][md-fab], [disabled][disabled][md-mini-fab] { background-color: rgba(0, 0, 0, 0.12); } [md-raised-button]:active, [md-fab]:active, [md-mini-fab]:active { box-shadow: 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12); } [disabled][md-raised-button], [disabled][md-fab], [disabled][md-mini-fab] { box-shadow: none; } [md-button][disabled]:hover.md-primary, [md-button][disabled]:hover.md-accent, [md-button][disabled]:hover.md-warn, [md-button][disabled]:hover:hover { background-color: transparent; } [md-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 56px; height: 56px; padding: 0; } [md-fab] i, [md-fab] md-icon { padding: 16px 0; } [md-mini-fab] { min-width: 0; border-radius: 50%; background-color: #9c27b0; color: rgba(255, 255, 255, 0.870588); width: 40px; height: 40px; padding: 0; } [md-mini-fab] i, [md-mini-fab] md-icon { padding: 8px 0; } [md-icon-button] { min-width: 0; padding: 0; width: 40px; height: 40px; line-height: 24px; border-radius: 50%; } [md-icon-button] .md-button-wrapper > * { vertical-align: middle; } [md-button]:hover::after, [md-icon-button]:hover::after { position: absolute; top: 0; left: 0; bottom: 0; right: 0; content: ''; background-color: rgba(0, 0, 0, 0.12); border-radius: inherit; pointer-events: none; } [md-button]:hover.md-primary::after, [md-icon-button]:hover.md-primary::after { background-color: rgba(0, 150, 136, 0.12); } [md-button]:hover.md-accent::after, [md-icon-button]:hover.md-accent::after { background-color: rgba(156, 39, 176, 0.12); } [md-button]:hover.md-warn::after, [md-icon-button]:hover.md-warn::after { background-color: rgba(244, 67, 54, 0.12); } @media screen and (-ms-high-contrast: active) { .md-raised-button, .md-fab, .md-mini-fab { border: 1px solid #fff; } } </style><style>.side-nav[_ngcontent-rqf-6] {
  background: #ECEFF1;
  width: 232px;
  bottom: 0;
  overflow: auto;
  z-index: 100;
  border-right: 1px solid rgba(0, 0, 0, 0.3); }
  .side-nav[_ngcontent-rqf-6] ul[_ngcontent-rqf-6] {
    margin-top: 8px; }

tutorials-versions[_ngcontent-rqf-6] {
  margin-left: 10px;
  margin-top: 10px;
  display: block; }

.improv-button[_ngcontent-rqf-6] {
  margin-left: 50px; }

.right-buttons[_ngcontent-rqf-6] {
  float: right;
  margin-right: 250px;
  margin-top: 10px; }

.tutorial-title[_ngcontent-rqf-6] {
  margin: 15px;
  float: left;
  font-size: larger;
  font-weight: bold; }

.top-navigation[_ngcontent-rqf-6] {
  position: fixed;
  margin-top: -60px;
  width: 100%;
  background-color: #ECEFF1;
  height: 60px;
  z-index: 50; }

.tutorial-content[_ngcontent-rqf-6] {
  margin-top: 60px;
  padding: 20px; }

.tutorials-container[_ngcontent-rqf-6] {
  padding-left: 230px; }

.l-pinned-top[_ngcontent-rqf-6] {
  position: fixed;
  top: 0px;
  left: 0px;
  right: 0px; }

.l-pinned-left[_ngcontent-rqf-6] {
  position: fixed;
  top: 0px;
  left: 0px;
  bottom: 0px; }

.l-left[_ngcontent-rqf-6] {
  float: left; }

.l-right[_ngcontent-rqf-6] {
  float: right; }

.l-relative[_ngcontent-rqf-6], .docs-content[_ngcontent-rqf-6] {
  position: relative; }

.l-absolute[_ngcontent-rqf-6] {
  position: absolute; }

.l-fixed[_ngcontent-rqf-6] {
  position: fixed; }

.l-offset-side-nav[_ngcontent-rqf-6] {
  padding-left: 232px; }

.l-offset-nav[_ngcontent-rqf-6] {
  padding-top: 64px; }</style><style>.tutorial-version[_ngcontent-rqf-7] {
            margin-left: 10px;
        }
        
        .active[_ngcontent-rqf-7] {
            color: #b3e5fc !important;
        }</style><style>.diffbox[_ngcontent-rqf-12] {
  border: 1px solid #eee;
  -webkit-text-size-adjust: 100%;
  margin: 1.5em 0; }
  .diffbox[_ngcontent-rqf-12] .title-panel[_ngcontent-rqf-12] {
    padding: 5px 12px;
    background: #eee;
    border-bottom: solid 1px #eee;
    color: #333;
    overflow: auto; }
    .diffbox[_ngcontent-rqf-12] .title-panel[_ngcontent-rqf-12] .github-commit-link[_ngcontent-rqf-12] {
      float: right;
      color: black;
      text-decoration: none;
      border-bottom: none !important; }
  .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] {
    overflow-x: auto;
    position: relative;
    padding: 9px 3px 3px 0;
    background: #f8f8f8; }
    .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] .scroll-container[_ngcontent-rqf-12] {
      display: inline-block;
      min-width: 100%;
      overflow: hidden; }
    .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] pre[_ngcontent-rqf-12] {
      margin: 0;
      padding: 0;
      background-color: transparent; }
      .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] pre.line-added[_ngcontent-rqf-12] {
        background: #eaffea; }
      .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] pre.line-removed[_ngcontent-rqf-12] {
        background: #ff9ea2; }
    .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] .line-content[_ngcontent-rqf-12] {
      padding-left: 36px;
      overflow: hidden; }
      .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] .line-content[_ngcontent-rqf-12] .hljs-comment[_ngcontent-rqf-12] {
        color: #777; }
    .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] .line-numbers[_ngcontent-rqf-12] {
      text-align: right;
      -moz-user-select: none;
      -khtml-user-select: none;
      -webkit-user-select: none;
      -o-user-select: none;
      position: absolute;
      width: 25px; }
      .diffbox[_ngcontent-rqf-12] .code-container[_ngcontent-rqf-12] .line-numbers[_ngcontent-rqf-12] .line-number[_ngcontent-rqf-12] {
        color: #aaa;
        font-style: italic; }</style></head><body><universal-styles></universal-styles>


<app _nghost-rqf-1=""><md-toolbar _ngcontent-rqf-1="" class="main-toolbar md-primary"><div class="md-toolbar-layout"> <md-toolbar-row> 
    <a _ngcontent-rqf-1="" href="/"><img _ngcontent-rqf-1="" class="logo" src="/assets/images/logo.png"></a>
    <div _ngcontent-rqf-1="" class="tutorials-dropdown">
        <button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">Tutorials</span> </button>
        <div _ngcontent-rqf-1="" class="dropdown-content">
            <steps-list _ngcontent-rqf-1="" prefix="/tutorials/socially"><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/bootstrap">1. Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/static-template">2. Static Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/bindings">7. Bindings</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/folder-structure">8. Folder Structure</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/deploying-your-app">11. Deployment</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/google-maps">17. Google Maps</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/css-sass-and-bootstrap">18. CSS, SASS and Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/ionic2">23. Ionic2</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular2/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}--><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="/tutorials/whatsapp">WhatsApp clone with Angular &amp; Meteor</a>
    </li><li class="step-item extra-item">
        <a class="step-link extra-link bold" className="step-link extra-link bold" href="/tutorials/migration/angular2/introduction">Blaze to Angular 2 Migration tutorial</a>
    </li>
</ul>
</steps-list>
        </div>
    </div>
    <a _ngcontent-rqf-1="" href="/angular2/"><button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">Angular 2</span> </button></a>
    <a _ngcontent-rqf-1="" href="/api/angular2-meteor/latest/MeteorComponent"><button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">API Reference</span> </button></a>
    <span _ngcontent-rqf-1="" class="fill-remaining-space"></span>
    <a _ngcontent-rqf-1="" href="https://github.com/Urigo/angular2-meteor" target="_blank"><button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">GitHub</span> </button></a>
    <a _ngcontent-rqf-1="" href="http://info.meteor.com/blog/author/uri-goldshtein?__hstc=219992390.b4a81f3b906b078dac633307097097f5.1471207723059.1471890076881.1471938647239.7&amp;__hssc=219992390.3.1471938647239&amp;__hsfp=714783454" target="_blank"><button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">Blog</span> </button></a>
    <a _ngcontent-rqf-1="" href="https://docs.google.com/forms/d/e/1FAIpQLSed3JZ0EAcSzkX8Y-iEtvNQRfjeyP2ICQvYMs00ewdmKaplwA/viewform" target="_blank"><button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">Contact Us</span> </button></a>
    <a _ngcontent-rqf-1="" href="/manifesto"><button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">Manifesto</span> </button></a>
    <a _ngcontent-rqf-1="" href="/about"><button _ngcontent-rqf-1="" md-button=""><span class="md-button-wrapper">About us</span> </button></a>
 </md-toolbar-row>  </div></md-toolbar>
<router-outlet _ngcontent-rqf-1=""></router-outlet><tutorial _nghost-rqf-6=""><div _ngcontent-rqf-6="" class="tutorials-container">
    <nav _ngcontent-rqf-6="" class="side-nav l-pinned-left l-layer-4 l-offset-nav">
        <tutorials-versions _ngcontent-rqf-6="" _nghost-rqf-7=""><!--template bindings={}--><a _ngcontent-rqf-7="" md-raised-button="" class="tutorial-version md-primary active" className="tutorial-version md-primary active" href="/tutorials/socially/angular1/privacy-and-publish-subscribe-functions">Angular 1</a><a _ngcontent-rqf-7="" md-raised-button="" class="tutorial-version md-primary " className="tutorial-version md-primary " href="/tutorials/socially/angular2/privacy-and-publish-subscribe-functions">Angular 2</a></tutorials-versions>
        <steps-list _ngcontent-rqf-6=""><!--template bindings={}--><ul class="tutorial-steps-list">
    <!--template bindings={}--><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/bootstrap">1. Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/static-template">2. Static Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/dynamic-template">3. Dynamic Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/3-way-data-binding">4. 3-way Data Binding</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/adding-removing-objects-and-angular-event-handling">5. Data Management</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/routing-and-multiple-views">6. Routing &amp; Multiple Views</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/bindings">7. Bindings</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/folder-structure">8. Folder Structure</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/users-and-authentication">9. Users &amp; Authentication</a>
    </li><li class="step-item active-step" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/privacy-and-publish-subscribe-functions">10. Privacy &amp; Subscriptions</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/deploying-your-app">11. Deployment</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/running-your-app-on-android-or-ios-with-phonegap">12. Mobile Support</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/search-sort-pagination-and-reactive-vars">13. Filter and Pagination</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/using-and-creating-angularjs-pipes">14. AngularJS Pipes</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/meteor-methods">15. Meteor Methods</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/conditional-template-directives-with-angularjs">16. Conditional Templates</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/google-maps">17. Google Maps</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/css-less-and-bootstrap">18. CSS, LESS and Bootstrap</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/angular-material-and-custom-angular-auth-forms">19. Angular2-Material &amp; Custom Auth</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/3rd-party-libraries">20. Third-Party Libraries</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/files-and-uploadfs">21. Files and UploadFS</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/packages-isolation">22. Packages Isolation</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/ionic">23. Ionic</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/ngupgrade-and-migration">24. ngUpgrade &amp; Migration</a>
    </li><li class="step-item" routerLinkActive="active-step">
        <a class="step-link" href="/tutorials/socially/angular1/next-steps">25. Next Steps</a>
    </li>
    <!--template bindings={}-->
</ul>
</steps-list>
    </nav>
    <div _ngcontent-rqf-6="" class="top-navigation">
        <span _ngcontent-rqf-6="" class="tutorial-title" stepName="">Privacy &amp; Subscriptions</span>
        <div _ngcontent-rqf-6="" class="right-buttons">
            <a _ngcontent-rqf-6="" class="md-primary" md-raised-button="" tutorialNavigation="previous" href="/tutorials/socially/angular1/users-and-authentication">Previous</a>
            <a _ngcontent-rqf-6="" class="md-primary" codeDiffLink="" md-raised-button="" href="https://github.com/Urigo/meteor-angular-socially/compare/step_08...step_09">Code Diff</a>
            <a _ngcontent-rqf-6="" class="md-primary" md-raised-button="" tutorialNavigation="next" href="/tutorials/socially/angular1/deploying-your-app">Next</a>
            <a _ngcontent-rqf-6="" class="md-primary improv-button" md-raised-button="" href="https://github.com/Urigo/tutorial-infrastructure/edit/master/static-website/tutorials/socially/angular1/privacy-and-publish-subscribe-functions.html">Improve This Document</a>
        </div>
    </div>
    <div _ngcontent-rqf-6="" class="tutorial-content">
        <router-outlet _ngcontent-rqf-6=""></router-outlet><tutorial-page><div class="tutorial-container"></div></tutorial-page><tutorial-page-content><p>Publish and subscribe to data is very different from other methods, such as using REST APIs. So don't miss the articles in the section below for deeper understanding how they work.</p>

<p>Right now our app has no privacy, every user can see all the parties on the screen.</p>

<p>So let's add a <code ngNonBindable="">public</code> flag on parties - if a party is public we will let anyone see it, but if a party is private, only the owner can see it.</p>

<p>First we need to remove the <code ngNonBindable="">autopublish</code> Meteor package.</p>

<p><code ngNonBindable="">autopublish</code> is added to any new Meteor project. It pushes a full copy of the database to each client.
It helped us until now, but it's not so good for privacy...</p>

<p>Write this command in the console:</p>

<pre><code ngNonBindable="">meteor remove autopublish</code></pre>

<p>Now run the app. You can't see any parties.</p>

<p>So now we need to tell Meteor what parties should it publish to the clients.</p>

<p>To do that we will use Meteor's <a href="http://docs.meteor.com/#/full/meteor_publish">publish function</a>.</p>

<p>Publish functions should go only in the server so the client won't have access to them.</p>

<p>Let's create a new file named <code ngNonBindable="">publish.js</code> inside the <em>imports/api/parties</em> folder.</p>

<p>Inside the file insert this code:</p>

<p><diffbox step="9.2" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.2</span> <span _ngcontent-rqf-12="" class="commit-summary">Add the `parties` publication to the server</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c4372b875135d456882d8a93eecd0819c4ddc1bf">imports/api/parties/publish.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">1</pre><pre _ngcontent-rqf-12="" class="line-number">2</pre><pre _ngcontent-rqf-12="" class="line-number">3</pre><pre _ngcontent-rqf-12="" class="line-number">4</pre><pre _ngcontent-rqf-12="" class="line-number">5</pre><pre _ngcontent-rqf-12="" class="line-number">6</pre><pre _ngcontent-rqf-12="" class="line-number">7</pre><pre _ngcontent-rqf-12="" class="line-number">8</pre><pre _ngcontent-rqf-12="" class="line-number">9</pre><pre _ngcontent-rqf-12="" class="line-number">10</pre><pre _ngcontent-rqf-12="" class="line-number">11</pre><pre _ngcontent-rqf-12="" class="line-number">12</pre><pre _ngcontent-rqf-12="" class="line-number">13</pre><pre _ngcontent-rqf-12="" class="line-number">14</pre><pre _ngcontent-rqf-12="" class="line-number">15</pre><pre _ngcontent-rqf-12="" class="line-number">16</pre><pre _ngcontent-rqf-12="" class="line-number">17</pre><pre _ngcontent-rqf-12="" class="line-number">18</pre><pre _ngcontent-rqf-12="" class="line-number">19</pre><pre _ngcontent-rqf-12="" class="line-number">20</pre><pre _ngcontent-rqf-12="" class="line-number">21</pre><pre _ngcontent-rqf-12="" class="line-number">22</pre><pre _ngcontent-rqf-12="" class="line-number">23</pre><pre _ngcontent-rqf-12="" class="line-number">24</pre><pre _ngcontent-rqf-12="" class="line-number">25</pre><pre _ngcontent-rqf-12="" class="line-number">26</pre><pre _ngcontent-rqf-12="" class="line-number">27</pre><pre _ngcontent-rqf-12="" class="line-number">28</pre><pre _ngcontent-rqf-12="" class="line-number">29</pre><pre _ngcontent-rqf-12="" class="line-number">30</pre><pre _ngcontent-rqf-12="" class="line-number">31</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">if</span> (Meteor.isServer) {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  Meteor.publish(<span class="hljs-string">'parties'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> selector = {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      $or: [{</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        <span class="hljs-comment">// the public parties</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        $and: [{</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          public: <span class="hljs-literal">true</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        }, {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          public: {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">            $exists: <span class="hljs-literal">true</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          }</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        }]</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      }, {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        <span class="hljs-comment">// when logged in user is the owner</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        $and: [{</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          owner: <span class="hljs-keyword">this</span>.userId</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        }, {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          owner: {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">            $exists: <span class="hljs-literal">true</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          }</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        }]</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      }]</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    };</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> Parties.find(selector);</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">}</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Let's also move collection to separate file:</p>

<p><diffbox step="9.3" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.3</span> <span _ngcontent-rqf-12="" class="commit-summary">Move Parties to collection.js</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/6383163d7e679287843800333fd91f7584fe5a83">imports/api/parties/collection.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">1</pre><pre _ngcontent-rqf-12="" class="line-number">2</pre><pre _ngcontent-rqf-12="" class="line-number">3</pre><pre _ngcontent-rqf-12="" class="line-number">4</pre><pre _ngcontent-rqf-12="" class="line-number">5</pre><pre _ngcontent-rqf-12="" class="line-number">6</pre><pre _ngcontent-rqf-12="" class="line-number">7</pre><pre _ngcontent-rqf-12="" class="line-number">8</pre><pre _ngcontent-rqf-12="" class="line-number">9</pre><pre _ngcontent-rqf-12="" class="line-number">10</pre><pre _ngcontent-rqf-12="" class="line-number">11</pre><pre _ngcontent-rqf-12="" class="line-number">12</pre><pre _ngcontent-rqf-12="" class="line-number">13</pre><pre _ngcontent-rqf-12="" class="line-number">14</pre><pre _ngcontent-rqf-12="" class="line-number">15</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Mongo } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/mongo'</span>;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> Parties = <span class="hljs-keyword">new</span> Mongo.Collection(<span class="hljs-string">'parties'</span>);</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">Parties.allow({</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  insert(userId, party) {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> userId &amp;&amp; party.owner === userId;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  },</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  update(userId, party, fields, modifier) {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> userId &amp;&amp; party.owner === userId;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  },</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  remove(userId, party) {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> userId &amp;&amp; party.owner === userId;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  }</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Replace <code ngNonBindable="">parties.js</code> with <code ngNonBindable="">index.js</code>:</p>

<p><diffbox step="9.4" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.4</span> <span _ngcontent-rqf-12="" class="commit-summary">Create entry point for Parties</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c1a5df701cccfc8a72048149c255c011e6c99063">imports/api/parties/index.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">1</pre><pre _ngcontent-rqf-12="" class="line-number">2</pre><pre _ngcontent-rqf-12="" class="line-number">3</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'./publish'</span>;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">export</span> * <span class="hljs-keyword">from</span> <span class="hljs-string">'./collection'</span>;</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Update the following files which use <code ngNonBindable="">parties</code> in import to <code ngNonBindable="">index</code></p>

<ul><li>imports/ui/components/partiesList/partiesList.js</li><li>imports/ui/components/partyAdd/partyAdd.js</li><li>imports/ui/components/partyDetails/partyDetails.js</li><li>imports/ui/components/partyRemove/partyRemove.js</li><li>server/startup.js</li></ul>

<p>Let's see what has been changed:</p>

<ul><li>We have <code ngNonBindable="">Meteor.publish</code> - a function to define what to publish from the server to the client</li><li>The first parameter is the name of the subscription. The client will subscribe to that name</li><li>The second parameter is a function that defines what will be returned in the subscription</li><li>We moved everything to separate files</li><li>We removed parties.js and create index.js (it allows us to control what should or not be exported and imported)</li></ul>

<p>You can find out more about MongoDB <code ngNonBindable="">find()</code> method <a href="http://docs.mongodb.org/manual/reference/method/db.collection.find/">here</a></p>

<p>That function will determine what data will be returned and the permissions needed.</p>

<p>In our case the first name parameter is <strong>"parties"</strong>. So we will need to subscribe to the <strong>"parties"</strong> collection in the client, so let's do it, using <code ngNonBindable="">this.subscribe</code> method:</p>

<p><diffbox step="9.6" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.6</span> <span _ngcontent-rqf-12="" class="commit-summary">Add the `parties` subscription</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/b8322c91e1c9f7f4878ca28bd382df2fa1f88a9b">imports/ui/components/partiesList/partiesList.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">13</pre><pre _ngcontent-rqf-12="" class="line-number">14</pre><pre _ngcontent-rqf-12="" class="line-number">15</pre><pre _ngcontent-rqf-12="" class="line-number">16</pre><pre _ngcontent-rqf-12="" class="line-number">17</pre><pre _ngcontent-rqf-12="" class="line-number">18</pre><pre _ngcontent-rqf-12="" class="line-number">19</pre><pre _ngcontent-rqf-12="" class="line-number">20</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    $reactive(<span class="hljs-keyword">this</span>).attach($scope);</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'parties'</span>);</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      parties() {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        <span class="hljs-keyword">return</span> Parties.find({});</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<blockquote><p>Our publish function can also take parameters.  In that case, we would also need to pass the parameters from the client.</p><p>For more information about the <code ngNonBindable="">subscribe</code> service <a href="/api/reactive-context">click here</a></p></blockquote>

<p>In the second parameter of the publish function, we define a function uses the Mongo API to return the wanted documents (document are the JSON-style data structure of MongoDB).</p>

<p>So we create a query on the Parties collection.</p>

<p>Inside the find method we use the <a href="http://docs.mongodb.org/manual/reference/operator/query/or/">$or</a>, <a href="http://docs.mongodb.org/manual/reference/operator/query/and/">$and</a> and <a href="http://docs.mongodb.org/manual/reference/operator/query/exists/">$exists</a> Mongo operators to pull our wanted parties:</p>

<p>Either that the owner parameter exists and it's the current logged in user (which we have access to with the command <code ngNonBindable="">this.userId</code>), or that the party's public flag exists and it's set as true.</p>

<p>So now let's add the public flag to the parties and see how it affects the parties the client gets.</p>

<p>Let's add a checkbox to the new party form in <code ngNonBindable="">ParyAdd</code>:</p>

<p><diffbox step="9.7" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.7</span> <span _ngcontent-rqf-12="" class="commit-summary">Add public party checkbox to the add new party form</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/7b9949a5007638e3722af452aa464191f9de5f3f">imports/ui/components/partyAdd/partyAdd.html</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">7</pre><pre _ngcontent-rqf-12="" class="line-number">8</pre><pre _ngcontent-rqf-12="" class="line-number">9</pre><pre _ngcontent-rqf-12="" class="line-number">10</pre><pre _ngcontent-rqf-12="" class="line-number">11</pre><pre _ngcontent-rqf-12="" class="line-number">12</pre><pre _ngcontent-rqf-12="" class="line-number">13</pre><pre _ngcontent-rqf-12="" class="line-number">14</pre><pre _ngcontent-rqf-12="" class="line-number">15</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    Description:</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">ng-model</span>=<span class="hljs-string">"partyAdd.party.description"</span> /&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    Public Party?</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">ng-model</span>=<span class="hljs-string">"partyAdd.party.public"</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyAdd.submit()"</span>&gt;</span>Add Party!<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Notice how easy it is to bind a checkbox to a model with Angular 1!</p>

<p>Let's add the same to the <code ngNonBindable="">PartyDetails</code> component:</p>

<p><diffbox step="9.8" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.8</span> <span _ngcontent-rqf-12="" class="commit-summary">Add is public checkbox to the party details view</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/96a7e50a8296207d934c0b344db8629ca6871919">imports/ui/components/partyDetails/partyDetails.html</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">2</pre><pre _ngcontent-rqf-12="" class="line-number">3</pre><pre _ngcontent-rqf-12="" class="line-number">4</pre><pre _ngcontent-rqf-12="" class="line-number">5</pre><pre _ngcontent-rqf-12="" class="line-number">6</pre><pre _ngcontent-rqf-12="" class="line-number">7</pre><pre _ngcontent-rqf-12="" class="line-number">8</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">  Party name: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">ng-model</span>=<span class="hljs-string">"partyDetails.party.name"</span> /&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">  Description: <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">ng-model</span>=<span class="hljs-string">"partyDetails.party.description"</span> /&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  Public Party? <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span> <span class="hljs-attr">ng-model</span>=<span class="hljs-string">"partyDetails.party.public"</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">  <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ng-click</span>=<span class="hljs-string">"partyDetails.save()"</span>&gt;</span>Save<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>And we will add the ability to set this flag when updating a party details:</p>

<p><diffbox step="9.9" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.9</span> <span _ngcontent-rqf-12="" class="commit-summary">Add is public checkbox to the party details component</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/61ef906908b44a37c558a7fe0d8ab3b263c7683e">imports/ui/components/partyDetails/partyDetails.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">30</pre><pre _ngcontent-rqf-12="" class="line-number">31</pre><pre _ngcontent-rqf-12="" class="line-number">32</pre><pre _ngcontent-rqf-12="" class="line-number">33</pre><pre _ngcontent-rqf-12="" class="line-number">34</pre><pre _ngcontent-rqf-12="" class="line-number">35</pre><pre _ngcontent-rqf-12="" class="line-number">36</pre><pre _ngcontent-rqf-12="" class="line-number">37</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    }, {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      $set: {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        name: <span class="hljs-keyword">this</span>.party.name,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        description: <span class="hljs-keyword">this</span>.party.description,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        public: <span class="hljs-keyword">this</span>.party.public</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      }</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    }, (error) =&gt; {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      <span class="hljs-keyword">if</span> (error) {</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Have you noticed that PartiesDetails is missing something? Yes, it is!</p>

<p><diffbox step="9.10" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.10</span> <span _ngcontent-rqf-12="" class="commit-summary">Add `parties` subscription to the PartyDetails</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/023b4455bbe5cd199dd1556fdfabf591942e0dd9">imports/ui/components/partyDetails/partyDetails.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">15</pre><pre _ngcontent-rqf-12="" class="line-number">16</pre><pre _ngcontent-rqf-12="" class="line-number">17</pre><pre _ngcontent-rqf-12="" class="line-number">18</pre><pre _ngcontent-rqf-12="" class="line-number">19</pre><pre _ngcontent-rqf-12="" class="line-number">20</pre><pre _ngcontent-rqf-12="" class="line-number">21</pre><pre _ngcontent-rqf-12="" class="line-number">22</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.partyId = $stateParams.partyId;</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'parties'</span>);</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      party() {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        <span class="hljs-keyword">return</span> Parties.findOne({</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Now let's run the app.</p>

<p>Log in with 2 different users in 2 different browsers (you can use 2 different browsers, such as Chrome and Firefox, or use the anonymous mode on the same browser - e.g. incognito mode on Chrome, private browsing in Firefox or inPrivate mode in Edge).</p>

<p>In each of the users create a few public parties and a few private ones.</p>

<p>Now log out and see which user sees which parties.</p>

<p>In the next step, we will want to invite users to private parties. For that, we will need to get all the users, but only their emails without other data which will hurt their privacy.</p>

<p>So let's create another publish method for getting only the needed data on the user.</p>

<p>Notice the we don't need to create a new Meteor collection like we did with parties. <strong>Meteor.users</strong> is a pre-defined collection which is defined by the <a href="http://docs.meteor.com/#accounts_api">meteor-accounts</a> package.</p>

<p>So let's start with defining our publish function.</p>

<p>Create a new file under the <code ngNonBindable="">api</code> folder named <code ngNonBindable="">users.js</code> and place the following code in:</p>

<p><diffbox step="9.11" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.11</span> <span _ngcontent-rqf-12="" class="commit-summary">Create the users publication</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/d22c096bf7ebf84973cd41424bd3cf5798d7dcc3">imports/api/users.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">1</pre><pre _ngcontent-rqf-12="" class="line-number">2</pre><pre _ngcontent-rqf-12="" class="line-number">3</pre><pre _ngcontent-rqf-12="" class="line-number">4</pre><pre _ngcontent-rqf-12="" class="line-number">5</pre><pre _ngcontent-rqf-12="" class="line-number">6</pre><pre _ngcontent-rqf-12="" class="line-number">7</pre><pre _ngcontent-rqf-12="" class="line-number">8</pre><pre _ngcontent-rqf-12="" class="line-number">9</pre><pre _ngcontent-rqf-12="" class="line-number">10</pre><pre _ngcontent-rqf-12="" class="line-number">11</pre><pre _ngcontent-rqf-12="" class="line-number">12</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">if</span> (Meteor.isServer) {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  Meteor.publish(<span class="hljs-string">'users'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">return</span> Meteor.users.find({}, {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      fields: {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        emails: <span class="hljs-number">1</span>,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        profile: <span class="hljs-number">1</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      }</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    });</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  });</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">}</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>And make it available on the server side:
<em> Before, here : move server/startup.js to imports/startup/fixtures.js
</em> Then, imports/startup/fixtures.js change this "import { Parties } from '../imports/api/parties';" to "import { Parties } from '../api/parties';"</p>

<p><diffbox step="9.12" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.12</span> <span _ngcontent-rqf-12="" class="commit-summary">Add `users` publication to the server-side</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/ae20260fbbe208c88a9a5a245a9cca0c06741ef7">server/main.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">1</pre><pre _ngcontent-rqf-12="" class="line-number">2</pre><pre _ngcontent-rqf-12="" class="line-number">3</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'../imports/startup/fixtures'</span>;</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'../imports/api/parties'</span>;</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> <span class="hljs-string">'../imports/api/users'</span>;</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>So here again we use the Mongo API to return all the users (find with an empty object) but we select to return only the emails and profile fields.</p>

<ul><li>Notice that each object (i.e. each user) will automatically contain its <code ngNonBindable="">_id</code> field.</li></ul>

<p>The emails field holds all the user's email addresses, and the profile might hold more optional information like the user's name
(in our case, if the user logged in with the Facebook login, the accounts-facebook package puts the user's name from Facebook automatically into that field).</p>

<p>Now let's subscribe to that publish Method.  In the <code ngNonBindable="">PartyDetails</code> component file add the following line inside the controller:</p>

<p><diffbox step="9.13" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.13</span> <span _ngcontent-rqf-12="" class="commit-summary">Add `users` subscription and helper</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/c58d4897c0a49995f1eaed6c2e798c0abb36bc2e">imports/ui/components/partyDetails/partyDetails.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">16</pre><pre _ngcontent-rqf-12="" class="line-number">17</pre><pre _ngcontent-rqf-12="" class="line-number">18</pre><pre _ngcontent-rqf-12="" class="line-number">19</pre><pre _ngcontent-rqf-12="" class="line-number">20</pre><pre _ngcontent-rqf-12="" class="line-number">21</pre><pre _ngcontent-rqf-12="" class="line-number">22</pre><pre _ngcontent-rqf-12="" class="line-number">23</pre><pre _ngcontent-rqf-12="" class="line-number">24</pre><pre _ngcontent-rqf-12="" class="line-number">25</pre><pre _ngcontent-rqf-12="" class="line-number">26</pre><pre _ngcontent-rqf-12="" class="line-number">27</pre><pre _ngcontent-rqf-12="" class="line-number">28</pre><pre _ngcontent-rqf-12="" class="line-number">29</pre><pre _ngcontent-rqf-12="" class="line-number">30</pre><pre _ngcontent-rqf-12="" class="line-number">31</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.partyId = $stateParams.partyId;</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'parties'</span>);</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">this</span>.subscribe(<span class="hljs-string">'users'</span>);</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">this</span>.helpers({</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      party() {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        <span class="hljs-keyword">return</span> Parties.findOne({</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">          _id: $stateParams.partyId</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        });</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      },</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      users() {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        <span class="hljs-keyword">return</span> Meteor.users.find({});</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      }</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    });</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">  }</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<ul><li>We subscribed to the <code ngNonBindable="">users</code> publication</li><li>We added a helper function to the <code ngNonBindable="">users</code> collection</li></ul>

<p>Now let's add the list of users to the view to make sure it works.</p>

<p>Add this ng-repeat list to the end of the template:</p>

<p><diffbox step="9.14" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.14</span> <span _ngcontent-rqf-12="" class="commit-summary">Add the users list to the party details view</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/fc58dc3bb64974190d69087bf5301a882cf45b18">imports/ui/components/partyDetails/partyDetails.html</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">7</pre><pre _ngcontent-rqf-12="" class="line-number">8</pre><pre _ngcontent-rqf-12="" class="line-number">9</pre><pre _ngcontent-rqf-12="" class="line-number">10</pre><pre _ngcontent-rqf-12="" class="line-number">11</pre><pre _ngcontent-rqf-12="" class="line-number">12</pre><pre _ngcontent-rqf-12="" class="line-number">13</pre><pre _ngcontent-rqf-12="" class="line-number">14</pre><pre _ngcontent-rqf-12="" class="line-number">15</pre><pre _ngcontent-rqf-12="" class="line-number">16</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">ui-sref</span>=<span class="hljs-string">"parties"</span>&gt;</span>Back<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  Users:</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"user in partyDetails.users"</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{{ user.emails[0].address }}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<h1>Testing</h1>

<p><diffbox step="9.15" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.15</span> <span _ngcontent-rqf-12="" class="commit-summary">Update tests of PartyAdd</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/f3c9b2b16b612229cf861b917fc6cef269b9b5f0">imports/ui/components/partyAdd/client/partyAdd.tests.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">1</pre><pre _ngcontent-rqf-12="" class="line-number">2</pre><pre _ngcontent-rqf-12="" class="line-number">3</pre><pre _ngcontent-rqf-12="" class="line-number">4</pre><pre _ngcontent-rqf-12="" class="line-number"> </pre><pre _ngcontent-rqf-12="" class="line-number">12</pre><pre _ngcontent-rqf-12="" class="line-number">13</pre><pre _ngcontent-rqf-12="" class="line-number">14</pre><pre _ngcontent-rqf-12="" class="line-number">15</pre><pre _ngcontent-rqf-12="" class="line-number">16</pre><pre _ngcontent-rqf-12="" class="line-number">17</pre><pre _ngcontent-rqf-12="" class="line-number">18</pre><pre _ngcontent-rqf-12="" class="line-number">19</pre><pre _ngcontent-rqf-12="" class="line-number">20</pre><pre _ngcontent-rqf-12="" class="line-number">21</pre><pre _ngcontent-rqf-12="" class="line-number">22</pre><pre _ngcontent-rqf-12="" class="line-number"> </pre><pre _ngcontent-rqf-12="" class="line-number">25</pre><pre _ngcontent-rqf-12="" class="line-number">26</pre><pre _ngcontent-rqf-12="" class="line-number">27</pre><pre _ngcontent-rqf-12="" class="line-number">28</pre><pre _ngcontent-rqf-12="" class="line-number">29</pre><pre _ngcontent-rqf-12="" class="line-number">30</pre><pre _ngcontent-rqf-12="" class="line-number">31</pre><pre _ngcontent-rqf-12="" class="line-number">32</pre><pre _ngcontent-rqf-12="" class="line-number"> </pre><pre _ngcontent-rqf-12="" class="line-number">49</pre><pre _ngcontent-rqf-12="" class="line-number">50</pre><pre _ngcontent-rqf-12="" class="line-number">51</pre><pre _ngcontent-rqf-12="" class="line-number">52</pre><pre _ngcontent-rqf-12="" class="line-number">53</pre><pre _ngcontent-rqf-12="" class="line-number">54</pre><pre _ngcontent-rqf-12="" class="line-number">55</pre><pre _ngcontent-rqf-12="" class="line-number">56</pre><pre _ngcontent-rqf-12="" class="line-number">57</pre><pre _ngcontent-rqf-12="" class="line-number">58</pre><pre _ngcontent-rqf-12="" class="line-number">59</pre><pre _ngcontent-rqf-12="" class="line-number">60</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-added" className="line-added"><span class="hljs-keyword">import</span> { Meteor } <span class="hljs-keyword">from</span> <span class="hljs-string">'meteor/meteor'</span>;</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { name <span class="hljs-keyword">as</span> PartyAdd } <span class="hljs-keyword">from</span> <span class="hljs-string">'../partyAdd'</span>;</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> { Parties } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../../../api/parties'</span>;</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"><span class="hljs-keyword">import</span> <span class="hljs-string">'angular-mocks'</span>;</pre><pre _ngcontent-rqf-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">let</span> controller;</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">const</span> party = {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      name: <span class="hljs-string">'Foo'</span>,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      description: <span class="hljs-string">'Birthday of Foo'</span>,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      public: <span class="hljs-literal">true</span></pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    };</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">    <span class="hljs-keyword">const</span> user = {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      _id: <span class="hljs-string">'userId'</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    beforeEach(() =&gt; {</pre><pre _ngcontent-rqf-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">          $scope: $rootScope.$<span class="hljs-keyword">new</span>(<span class="hljs-literal">true</span>)</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        });</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      });</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added"> </pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      spyOn(Meteor, <span class="hljs-string">'user'</span>).and.returnValue(user);</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    });</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    describe(<span class="hljs-string">'reset()'</span>, () =&gt; {</pre><pre _ngcontent-rqf-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      });</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      it(<span class="hljs-string">'should insert a new party'</span>, () =&gt; {</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        expect(Parties.insert).toHaveBeenCalledWith({</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          name: party.name,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          description: party.description,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          public: party.public,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">          owner: user._id</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">        });</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      });</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      it(<span class="hljs-string">'should call reset()'</span>, () =&gt; {</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p><diffbox step="9.16" tutorial="angular1-meteor-socially" _nghost-rqf-12=""><div _ngcontent-rqf-12="" class="diffbox">
    <div _ngcontent-rqf-12="" class="title-panel">
        <span _ngcontent-rqf-12="" class="step-number">9.16</span> <span _ngcontent-rqf-12="" class="commit-summary">Update tests of PartyDetails</span>
        <a _ngcontent-rqf-12="" class="github-commit-link" target="_blank" href="http://github.com/Urigo/meteor-angular-socially/commit/5b04e2e7a0fdbef1ec42237a532d3dc8b02274b0">imports/ui/components/partyDetails/client/partyDetails.tests.js</a>
    </div>
    <div _ngcontent-rqf-12="" class="code-container">
        <div _ngcontent-rqf-12="" class="scroll-container">
            <div _ngcontent-rqf-12="" class="line-numbers">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-number">12</pre><pre _ngcontent-rqf-12="" class="line-number">13</pre><pre _ngcontent-rqf-12="" class="line-number">14</pre><pre _ngcontent-rqf-12="" class="line-number">15</pre><pre _ngcontent-rqf-12="" class="line-number">16</pre><pre _ngcontent-rqf-12="" class="line-number">17</pre><pre _ngcontent-rqf-12="" class="line-number">18</pre><pre _ngcontent-rqf-12="" class="line-number">19</pre><pre _ngcontent-rqf-12="" class="line-number"> </pre><pre _ngcontent-rqf-12="" class="line-number">41</pre><pre _ngcontent-rqf-12="" class="line-number">42</pre><pre _ngcontent-rqf-12="" class="line-number">43</pre><pre _ngcontent-rqf-12="" class="line-number">44</pre><pre _ngcontent-rqf-12="" class="line-number">45</pre><pre _ngcontent-rqf-12="" class="line-number">46</pre><pre _ngcontent-rqf-12="" class="line-number">47</pre><pre _ngcontent-rqf-12="" class="line-number">48</pre>
            </div>
            <div _ngcontent-rqf-12="" class="line-content">
                <!--template bindings={}--><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    <span class="hljs-keyword">const</span> party = {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      _id: <span class="hljs-string">'partyId'</span>,</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      name: <span class="hljs-string">'Foo'</span>,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      description: <span class="hljs-string">'Birthday of Foo'</span>,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">      public: <span class="hljs-literal">true</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    };</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context"> </pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">    beforeEach(() =&gt; {</pre><pre _ngcontent-rqf-12="" class="" className=""><span class="hljs-comment">...some lines skipped...</span></pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        expect(Parties.update.calls.mostRecent().args[<span class="hljs-number">1</span>]).toEqual({</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">          $set: {</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">            name: party.name,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">            description: party.description,</pre><pre _ngcontent-rqf-12="" class="line-added" className="line-added">            public: party.public</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">          }</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">        });</pre><pre _ngcontent-rqf-12="" class="line-context" className="line-context">      });</pre>
            </div>
        </div>
    </div>
</div></diffbox></p>

<p>Run the app and see the list of all the users' emails that created a login and password and did not use a service to login.</p>

<h1>Working with Users collection in the client side</h1>

<p>Note that the structure of the Users collection is different between regular email-password, Facebook, Google etc.</p>

<p>The Document structure looks like this (notice where the email is in each one):</p>

<p><strong><code ngNonBindable="">Email-Password</code>:</strong></p>

<pre><code ngNonBindable="">{
  "_id" : "8qJt6dRSNDHBuqpXu",
  "createdAt" : ISODate("2015-05-26T00:29:05.109-07:00"),
  "services" : {
    "password" : {
      "bcrypt" : "$2a$10$oSykELjSzcoFWXZTwI5.lOl4BsB1EfcR8RbEm/KsS3zA4x5vlwne6"
    },
    "resume" : {
      "loginTokens" : [
        {
          "when" : ISODate("2015-05-26T00:29:05.112-07:00"),
          "hashedToken" : "6edmW0Wby2xheFxyiUOqDYYFZmOtYHg7VmtXUxEceHg="
        }
      ]
    }
  },
  "emails" : [
    {
      "address" : "email@email.com",
      "verified" : false
    }
  ]
}</code></pre>

<p><strong><code ngNonBindable="">Facebook</code>:</strong></p>

<pre><code ngNonBindable="">{
  "_id" : "etKoiD8MxkQTjTQRY",
  "createdAt" : ISODate("2015-05-25T17:42:16.850-07:00"),
  "services" : {
    "facebook" : {
      "accessToken" : "CAAM10fSvI...",
      "expiresAt" : 1437770457288.0000000000000000,
      "id" : "10153317814289291",
      "email" : "email@email.com",
      "name" : "FirstName LastName",
      "first_name" : "FirstName",
      "last_name" : "LastName",
      "link" : "https://www.facebook.com/app_scoped_user_id/foo"
      "gender" : "male",
      "locale" : "en_US"
    },
    "resume" : {
      "loginTokens" : []
    }
  },
  "profile" : {
    "name" : "First Name LastName"
  }
}</code></pre>

<p><strong><code ngNonBindable="">Google</code>:</strong></p>

<pre><code ngNonBindable="">{
  "_id" : "337r4wwSRWe5B6CCw",
  "createdAt" : ISODate("2015-05-25T22:53:32.172-07:00"),
  "services" : {
    "google" : {
      "accessToken" : "ya29.fwHSzHvC...",
      "idToken" : "eyJhbGciOiJSUzI1NiIs...",
      "expiresAt" : 1432624691685.0000000000000000,
      "id" : "107497376789285885122",
      "email" : "email@email.com",
      "verified_email" : true,
      "name" : "FirstName LastName",
      "given_name" : "FirstName",
      "family_name" : "LastName",
      "picture" : "https://lh5.googleusercontent.com/-foo.jpeg"
      "locale" : "en",
      "gender" : "male"
    },
    "resume" : {
      "loginTokens" : [
        {
          "when" : ISODate("2015-05-25T23:18:11.788-07:00"),
          "hashedToken" : "NaKS2Zeermw+bPlMLhaihsNu6jPaW5+ucFDF2BXT4WQ="
        }
      ]
    }
  },
  "profile" : {
    "name" : "First Name LastName"
  }
}</code></pre>

<p>Right now it means that the emails of the users that logged in with with email-password will be displayed.</p>

<p>In the chapter of Angular 1 filters we will change the display code to show all emails.</p>

<h1>Understanding Meteor's Publish-Subscribe</h1>

<p>It is very important to understand Meteor's Publish-Subscribe mechanism so you don't get confused and use it to filter things in the view!</p>

<p>Meteor accumulates all the data from the different subscription of a collection in the client, so adding a different subscription in a different
view won't delete the data that is already in the client.</p>

<p>More information about publications and subscription in <a href="https://medium.com/angular-meteor/coll-pub-sub-with-angular-meteor-cb13fe48f570">this blog article</a> and this  <a href="http://www.meteorpedia.com/read/Understanding_Meteor_Publish_and_Subscribe">meteorpedia article</a>.</p>

<h1>Summary</h1>

<p>We've added the support of privacy to our parties app.</p>

<p>We also learned how to use the <code ngNonBindable="">Meteor.publish</code> command to control permissions and the data sent to the client
and how to subscribe to it with the $meteor.collection subscribe function.</p>

<p>In the next step we will learn how to deploy. You will see that Meteor makes it easy to put the application online.</p></tutorial-page-content>
    </div>
</div></tutorial></app>


</body></html>